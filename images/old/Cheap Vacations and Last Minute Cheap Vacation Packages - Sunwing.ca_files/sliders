function _possibleConstructorReturn(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:n}function _inherits(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");}function renderSliders(n){ReactDOM.render(React.createElement(SwgPageSliders,{data:n}),document.getElementById("page-slider-bx-container"));ReactDOM.render(React.createElement(SwgMobileSliders,{data:n}),document.getElementById("mobile-slider-bx-container"))}var _createClass=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),swgRedesignApp,SwgPageSliders,SwgMobileSliders;(function(n){(function(n){var t=function(){function n(t,i,r,u,f,e,o,s,h,c,l,a,v,y){_classCallCheck(this,n);this._startDateTime=e;this._toDateTime=o;this._imageLink=s;this._mainTitle=i;this._subTitle=r;this._urlLink=h;this._title=t;this._target=c;this._status=l;this._genericFlag=v;this._tags=f;this._fallbackSlider=a;this._priority=y;this._promotionCategory=u}return _createClass(n,[{key:"StartDateTime",get:function(){return this._startDateTime}},{key:"ToDateTime",get:function(){return this._toDateTime}},{key:"ImageLink",get:function(){return this._imageLink}},{key:"MainTitle",get:function(){return this._mainTitle}},{key:"Subtitle",get:function(){return this._subTitle}},{key:"UrlLink",get:function(){return this._urlLink}},{key:"Title",get:function(){return this._title}},{key:"Target",get:function(){return this._target}},{key:"Status",get:function(){return this._status}},{key:"GenericFlag",get:function(){return this._genericFlag}},{key:"Tags",get:function(){return this._tags}},{key:"FallbackSlider",get:function(){return this._fallbackSlider}},{key:"Priority",get:function(){return this._priority}},{key:"PromotionCategory",get:function(){return this._promotionCategory}}],[{key:"init",value:function(t){var i=t.hasOwnProperty("title")?t.title:null,r=t.hasOwnProperty("mainTitle")?t.title:null,u=t.hasOwnProperty("subTitle")?t.title:null,f=t.hasOwnProperty("promotionCategory")?t.promotionCategory:null,e=t.hasOwnProperty("tags")?t.promotionCategory:null,o=t.hasOwnProperty("startDateTime")?t.title:null,s=t.hasOwnProperty("toDateTime")?t.toDateTime:null,h=t.hasOwnProperty("imageLink")?t.imageLink.fields.file.url:null,c=t.hasOwnProperty("urlLink")?t.urlLink:null,l=t.hasOwnProperty("target")?t.target:null,a=t.hasOwnProperty("status")?t.status:null,v=t.hasOwnProperty("fallbackSlider")?t.fallbackSlider:null,y=t.hasOwnProperty("genericFlag")?t.genericFlag:null,p=t.hasOwnProperty("priority")?t.priority:null;return new n(i,r,u,f,e,o,s,h,c,l,a,v,y,p)}}]),n}();n.Sliders=t})(n.Models||(n.Models={}))})(swgRedesignApp||(swgRedesignApp={})),function(n){(function(t){var i=n.Services,r=n.Models,u=function(){function n(){_classCallCheck(this,n);var t=new i.Contentful;this.client=t.getClient();this.today=(new Date).toJSON().slice(0,10)}return _createClass(n,[{key:"getSliders",value:function(n,t){return this.client.getEntries({content_type:"itemDescription","fields.status":"Active","fields.startDateTime[lte]":this.today,"fields.toDateTime[gte]":this.today,"fields.tags[In]":n,"fields.promotionCategory[In]":t,order:"-fields.genericFlag,fields.priority",include:3,limit:5,locale:"en-CA"}).then(function(n){return n.items.map(function(n){return r.Sliders.init(n.fields)})})}}]),n}();t.Sliders=u})(n.Services||(n.Services={}))}(swgRedesignApp||(swgRedesignApp={})),function(n){(function(t){var u=n.Services,i=function(n){function i(n){_classCallCheck(this,i);var t=_possibleConstructorReturn(this,Object.getPrototypeOf(i).call(this,n));return t.state={data:n.data.slider},t}return _inherits(i,n),_createClass(i,[{key:"render",value:function(){var n=t.SliderGrid;return React.createElement(n,{data:this.state.data})}}]),i}(React.Component),r=function(n){function i(n){_classCallCheck(this,i);var t=_possibleConstructorReturn(this,Object.getPrototypeOf(i).call(this,n));return t.state={data:n.data.slider},t}return _inherits(i,n),_createClass(i,[{key:"render",value:function(){var n=t.SliderMobileGrid;return React.createElement(n,{data:this.state.data})}}]),i}(React.Component);t.SwgPageSliders=i;t.SwgMobileSliders=r})(n.Components||(n.Components={}))}(swgRedesignApp||(swgRedesignApp={})),function(n){(function(n){var t=function(n){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return _inherits(t,n),_createClass(t,[{key:"render",value:function(){var n=0,t=this.props.data.map(function(t){return React.createElement(i,{key:n++,data:t})});return React.createElement("ul",{className:"primary-slider"},t)}}]),t}(React.Component),i=function(n){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return _inherits(t,n),_createClass(t,[{key:"render",value:function(){var n=this,t={backgroundImage:"url("+this.props.data.imageLink+")"};return React.createElement("li",null,React.createElement("div",{className:"slider-heading-container"},React.createElement("span",{className:"title"},this.props.data.MainTitle),React.createElement("span",{className:"sub-title"},this.props.data.SubTitle)),function(){if(n.props.data.BrightcoveMediaId){var i=n.props.data.BrightcoveMediaPlayIcon?React.createElement("span",{className:"icon"}):"";return React.createElement("a",{href:"#","data-bcmediaid":n.props.data.BrightcoveMediaId,"data-bcmediatitle":n.props.data.BrightcoveMediaTitle,className:"bcvideoitem",title:n.props.data.Title,style:t},i)}return n.props.data.urlLink?React.createElement("a",{href:n.props.data.urlLink,target:n.props.data.Target,title:n.props.data.Title,style:t}):React.createElement("span",{style:t,title:n.props.data.Title})}())}}]),t}(React.Component),r=function(n){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return _inherits(t,n),_createClass(t,[{key:"render",value:function(){var n=0,t=this.props.data.map(function(t){return React.createElement(u,{key:n++,data:t})});return React.createElement("ul",{className:"mobile-primary-slider"},t)}}]),t}(React.Component),u=function(n){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,Object.getPrototypeOf(t).apply(this,arguments))}return _inherits(t,n),_createClass(t,[{key:"render",value:function(){var n=this;return React.createElement("li",null,React.createElement("div",{className:"slider-heading-container"},React.createElement("span",{className:"title"},this.props.data.MainTitle),React.createElement("span",{className:"sub-title"},this.props.data.SubTitle)),function(){if(n.props.data.BrightcoveMediaId){var t=n.props.data.BrightcoveMediaPlayIcon?React.createElement("span",{className:"icon"}):"";return React.createElement("a",{href:"#","data-bcmediaid":n.props.data.BrightcoveMediaId,"data-bcmediatitle":n.props.data.BrightcoveMediaTitle,className:"bcvideoitem",title:n.props.data.Title},React.createElement("img",{src:n.props.data.ImageLinkMobile,alt:n.props.data.Title}),t)}return n.props.data.urlLink?React.createElement("a",{href:n.props.data.urlLink,target:n.props.data.Target,title:n.props.data.Title}," ",React.createElement("img",{src:n.props.data.ImageLinkMobile,alt:n.props.data.Title})):React.createElement("img",{src:n.props.data.ImageLinkMobile,alt:n.props.data.Title})}())}}]),t}(React.Component);n.SliderMobileGrid=r;n.SliderGrid=t})(n.Components||(n.Components={}))}(swgRedesignApp||(swgRedesignApp={}));SwgPageSliders=swgRedesignApp.Components.SwgPageSliders;SwgMobileSliders=swgRedesignApp.Components.SwgMobileSliders;$.ajax({type:"GET",url:"/"+Lang+"/Home/_SliderAsync?category="+category+"&tags="+tags,contentType:"application/json",success:function(n){if(n=JSON.parse(n),n.slider!==null){for(i=0;i<n.slider.length;i++)n.slider[i].ImageLinkMobile||($("#slider-main").hasClass("default")||$("#slider-main").addClass("default"),$("#slider-mobile").hasClass("over-ride")||$("#slider-mobile").addClass("over-ride"));n.slider}else n.slider=Lang=="fr"?[{Code:null,StartDateTime:"",ToDateTime:"",imageLink:"//images.sunwingtravelgroup.com/repo_min/sunwingca/custom/promotions/sliders/default/desktop-fr.jpg",urlLink:null,Title:"Sunwing.ca",MainTitle:"",SubTitle:"",Target:"_parent",ImageLinkMobile:"//images.sunwingtravelgroup.com/repo_min/sunwingca/custom/promotions/sliders/default/mobile-fr.jpg",Status:"",Tags:[""],FallbackSlider:"",GenericFlag:"",Priority:10,PromotionCategory:[""]}]:[{Code:null,StartDateTime:"",ToDateTime:"",imageLink:"//images.sunwingtravelgroup.com/repo_min/sunwingca/custom/promotions/sliders/default/desktop-en.jpg",urlLink:null,Title:"Sunwing.ca",MainTitle:"",SubTitle:"",Target:"_parent",ImageLinkMobile:"//images.sunwingtravelgroup.com/repo_min/sunwingca/custom/promotions/sliders/default/mobile-en.jpg",Status:"",Tags:[""],FallbackSlider:"",GenericFlag:"",Priority:10,PromotionCategory:[""]}];renderSliders(n);var t=setInterval(function(){typeof SWGApplication!="undefined"&&(SWGApplication.dataView.displayPrimarySlider(),SWGApplication.dataView.displayMediaGalleries(),clearInterval(t))},100)}.bind(this),error:function(n,t){console.log("Error: "+t)}})