function isMobileDevice(){return typeof orientation!="undefined"||navigator.userAgent.indexOf("IEMobile")!==-1}function isTouchDevice(){return!0==("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}function RetreiveGateways(n,t,i,r,u){$.ajax({url:gatewayDestinationURL+"api/SV/search/getGatewayforBrand/"+Lang+"/SWG",type:"GET",cache:!0,dataType:"json",success:function(f){Gateways=f;InitDropsSuite(n,t,i,r,u)}})}function InitDrops(n,t,i,r,u){i!=null&&i.indexOf("xxx")>-1&&(i=i.split("xxx"));u!=null&&u.indexOf(":")>-1&&(u=u.split(":")[1]);Gateways.length==0?RetreiveGateways(n,t,i,r,u):InitDropsSuite(n,t,i,r,u)}function RefreshCruiseSuite(n,t,i,r,u){var e,y,v,h,s,f,o;(t==null||t=="")&&(t=n.gateway_dep.selectedIndex!=-1?n.gateway_dep.options[n.gateway_dep.selectedIndex].value:"YUL");(i==null||i=="")&&(i=n.dest_dep.options[n.dest_dep.selectedIndex].value);(u==null||u=="")&&(u=n.duration.options[n.duration.selectedIndex].value);t==null&&(t="");i==null&&(i="");u==null&&(u="");var c=Array(),p="",l=Array(),w="",a=Array(),b="";for(f=0;f<results.length;f++)v=","+results[f].ships+",",results[f].gateway!=""&&results[f].gateway!=null&&(i==""||i=="ALL"||i==results[f].destination||i==results[f].region)&&(u==""||u=="ALL"||u==results[f].duration)&&p.indexOf("--"+results[f].gateway+"--")==-1&&(p+="--"+results[f].gateway+"--",c[c.length]=eval("gateway_"+results[f].gateway)+"--xx--"+results[f].gateway);for(e=0,n.gateway_dep.length=0,c.sort(),f=0;f<c.length;f++)o=c[f].split("--xx--"),n.gateway_dep.options[e]=new Option(o[0]),n.gateway_dep.options[e].value=o[1],t!=""&&o[1]==t&&(n.gateway_dep.options[e].selected=!0),e++;for(f=0;f<results.length;f++)v=","+results[f].ships+",",(t==""||t=="ALL"||t==results[f].gateway)&&(u==""||u=="ALL"||u==results[f].duration)&&w.indexOf("--"+results[f].destination+"--")==-1&&(w+="--"+results[f].destination+"--",l[l.length]=results[f].region==0?eval("region_"+results[f].destination)+"--xx--"+results[f].destination+"--xx--":eval("region_"+results[f].region)+"--xx--"+results[f].region+"--xx--"+eval("region_"+results[f].destination)+"--xx--"+results[f].destination);for(e=1,n.dest_dep.length=1,y="",l.sort(),f=0;f<l.length;f++)o=l[f].split("--xx--"),y.indexOf("--"+o[1]+"--")==-1&&(y+="--"+o[1]+"--",n.dest_dep.options[e]=new Option(o[0]),n.dest_dep.options[e].value=o[1],i!=""&&o[1]==i&&(n.dest_dep.options[e].selected=!0),e++),o[3]>1&&(n.dest_dep.options[e]=new Option("-  "+o[2]),n.dest_dep.options[e].value=o[3],i!=""&&o[3]==i&&(n.dest_dep.options[e].selected=!0),e++);for(f=0;f<results.length;f++)v=","+results[f].ships+",",(t==""||t=="ALL"||t==results[f].gateway)&&(i==""||i=="ALL"||i==results[f].destination||i==results[f].region)&&(h="",s="",results[f].duration<5?(h="3 or 4 days",s="4"):results[f].duration<11?(h="5 to 10 days",s="7"):results[f].duration<11?(h="11 to 16 days",s="14"):(h="17 days or more",s="21"),b.indexOf("--"+s+"--")==-1&&(b+="--"+s+"--",a[a.length]=100+s+"--xx--"+h+"--xx--"+s));for(e=1,n.duration.length=1,a.sort(),f=0;f<a.length;f++)o=a[f].split("--xx--"),n.duration.options[e]=new Option(o[1]),n.duration.options[e].value=o[2],u!==""&&o[2]===u&&(n.duration.options[e].selected=!0),e++}function result(n,t,i,r,u,f,e){this.gateway=n;this.region=t;this.destination=i;this.port_of_call=r;this.duration=u;this.cruise_line=f;this.ships=e}function Submit(){return $("[name='date_dep_type']").each(function(n,t){var r,i,u;$(t).prop("checked")&&($(t).attr("value")==="month"?(i=$(t).closest(".input-group-wrapper").find(".calendar").val(),u=i.substring(i.length-4,i.length).trim(),i=i.substring(0,i.length-4),i=Lang==="fr"?parseInt($.inArray(i.trim(),["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]))+1:parseInt($.inArray(i.trim(),["January","February","March","April","May","June","July","August","September","October","November","December"]))+1,i=("0"+i).slice(-2),$("input[name='departure_month_au_long']").val(u+i)):(r=$(t).closest(".input-group-wrapper").find(".calendar").val().replace(/-/g,""),$("input[name='date_dep']").val(r)))}),$("input[name='alias']").val(desktopAlias),currentViewPort==="xs"&&isMobileDevice()&&isTouchDevice()&&($("input[name='alias']").val(mobileAlias),$("input[name='isMobile']").val("true"),$("input[name='nb_child_forf']").val($("#nb_child").val())),!0}function InitDropsSuite(n,t,i,r,u){var f,e;for(n.gateway_dep.length=0,f=0;f<Gateways.length;f++)e=Gateways[f].code,n.gateway_dep.options[f]=new Option(Gateways[f].name),n.gateway_dep.options[f].value=Gateways[f].code,t!==""&&e.indexOf(t)>-1&&(n.gateway_dep.options[f].selected=!0);n.dest_dep!=null&&n.dest_dep.type&&n.dest_dep.value!="ALL"&&refreshDest(n,i,r,u)}function RetreiveDestinations(n,t,i,r,u){$.ajax({url:gatewayDestinationURL+"api/SV/search/getDestCode/"+Lang+"/SWG/"+t,type:"GET",cache:!0,dataType:"json",success:function(f){Destinations[t]=f;refreshDestSuite(n,t,i,r,u)}})}function refreshDest(n,t,i,r){var u;n.duration.options[0]=new Option(Duration_5to10);n.duration.options[0].value=7;u=n.gateway_dep.options[n.gateway_dep.selectedIndex].value;u==""?n.dest_dep.length=0:n.dest_dep!=null&&n.dest_dep.type&&n.dest_dep.value!="ALL"&&(Destinations[u]==null||Destinations[u].length==0?RetreiveDestinations(n,u,t,i,r):refreshDestSuite(n,u,t,i,r))}function refreshDestSuite(n,t,i,r,u){var s=0,l=0,b,o,f,c,h,e,v,a,y,p,w;for(n.dest_dep.length=0,b=!1,o=0;o<Destinations[t].length;o++){for(s=o+l,f=Array(),f[0]=Destinations[t][o].groupName,c=Destinations[t][o].groupCode.split(","),c.sort(function(n,t){return n-t}),h=Destinations[t][o].groupName+" xxx"+c[0],e=1;e<c.length;e++)h=h+"_"+c[e];if(f[1]=h,n.dest_dep.options[s]=new Option(f[0]),n.dest_dep.options[s].value=f[1],v=h.substring(h.indexOf("xxx")+3),(Durations[t]==null||Durations[t].length===0)&&(Durations[t]=Object()),f[0]!=="United States"&&f[0]!=="Etats-Unis"){for(a=0,e=0;e<Destinations[t][o].destination.length;e++)e>0&&(y=Destinations[t][o].destination[e-1].durations.split(","),p=Destinations[t][o].destination[e].durations.split(","),a=y.length<=p.length?e:e-1);Durations[t][v]=Destinations[t][o].destination[a].durations}if(Destinations[t][o].destination.length>=2)for(e=0;e<Destinations[t][o].destination.length;e++)f[0]=Destinations[t][o].destination[e].destName,f[0]="- "+f[0],f[1]=codesPrepopulations[Destinations[t][o].destination[e].destCode]===undefined||LPCObjExists?f[0]+" xxx"+Destinations[t][o].destination[e].destCode:f[0]+" xxx"+codesPrepopulations[Destinations[t][o].destination[e].destCode],n.dest_dep.options[s+e+1]=new Option(f[0]),n.dest_dep.options[s+e+1].value=f[1],w=Destinations[t][o].destination[e].destCode,Durations[t][w]=Destinations[t][o].destination[e].durations,l=l+1;else f[0].indexOf("All Countries")===-1&&f[0].indexOf("All Canada")===-1&&f[0].indexOf("All South")===-1&&f[0].indexOf("Tout Pays")===-1&&f[0].indexOf("Tout Canada et Etats-Unis")===-1&&f[0].indexOf("Tout Sud")===-1&&(f[0]=f[0]+" ("+Destinations[t][o].destination[0].destName+")",n.dest_dep.options[s]=new Option(f[0]),n.dest_dep.options[s].value=f[1])}UpdateDestinationSelection();refreshHotel(n,r,u)}function UpdateDestinationSelection(){var n,t;if($("html").attr("data-template")==="hotelpage"||$("html").attr("data-template")==="excursions"&&ExcursionDictionary.destination!==""||$("html").attr("data-template")==="destinations"&&(CommonDictionary.country!==""||CommonDictionary.destination!=="")){n=!1;switch($("html").attr("data-template")){case"excursions":typeof ExcursionDictionary.destination!="undefined"&&(DestinationName=ExcursionDictionary.destination.replace(/-/g," "),DestinationName=DestinationName.toLowerCase().replace(/\b[a-z]/g,function(n){return n.toUpperCase()}));break;case"destinations":typeof CommonDictionary.destination!="undefined"?(DestinationName=CommonDictionary.destination.replace(/-/g," "),DestinationName=DestinationName.toLowerCase().replace(/\b[a-z]/g,function(n){return n.toUpperCase()})):typeof CommonDictionary.country!="undefined"&&(DestinationName=CommonDictionary.country.replace(/-/g," "),DestinationName=DestinationName.toLowerCase().replace(/\b[a-z]/g,function(n){return n.toUpperCase()}),n=!0);n=n=CommonDictionary.destination===CommonDictionary.country?!0:!1}Lang==="fr"&&DestinationName==="St Maarten"&&(DestinationName="Saint Martin");switch(DestinationName){case"St Lucia":DestinationName="Saint Lucia";break;case"Santa Lucia":DestinationName="Santa Lucia (Camaguey)";break;case"Santiago De Cuba":DestinationName="Santiago de Cuba";break;case"Manzanillo De Cuba":DestinationName="Manzanillo de Cuba";break;case"Grand Bahama":DestinationName="Freeport";break;case"Ixtapa-Zihuatanejo":DestinationName="Ixtapa";break;case"Ixtapa Zihuatanejo":DestinationName="Ixtapa";break;case"CuraçAo":DestinationName="Curacao";break;case"Mazatlán":DestinationName="Mazatlan";break;case"MazatláN":DestinationName="Mazatlan";break;case"JamaïQue":DestinationName="Jamaique";break;case"RéPublique Dominicaine":DestinationName="Republique Dominicaine";break;case"St. Petersburg":DestinationName="St Petersburg";break;case"éTats Unis":DestinationName="Etats-Unis";break;case"Antigua":DestinationName=Lang==="fr"?"Antigua et Barbuda":"Antigua and Barbuda";break;case"ANTIGUA":DestinationName=Lang==="fr"?"Antigua et Barbuda":"Antigua and Barbuda"}t=DestinationName;selectDestination(t,n)}}function selectDestination(n,t){$("#Select2 option").filter(function(){t||$(this).val().substring(0,$(this).val().indexOf("xxx")).replace(/[\-]/g,"").trim().toLowerCase()!==n.toLowerCase()?t&&$(this).val().substring(0,$(this).val().indexOf("xxx")).replace(/[\-]/g,"").trim().toLowerCase()===n.toLowerCase()?($(this).prop("selected",!0),$("#Select2").change()):typeof SVDestCode=="undefined"||t||$(this).val().substring($(this).val().indexOf("xxx")+3).trim()!==SVDestCode.trim()||($(this).prop("selected",!0),$("#Select2").change()):($(this).prop("selected",!0),$("#Select2").change())})}function RetreiveHotels(n,t,i,r,u){(Hotels[t]==null||Hotels[t].length==0)&&(Hotels[t]=Array());$.ajax({url:gatewayDestinationURL+"api/SV/search/SVHotelList/",type:"GET",data:{brand:"swg",lang:Lang,gateway:t,destinationid:i},cache:!0,dataType:"json",success:function(f){f!==undefined&&(Hotels[t][i]=f[0].hotels,refreshHotelSuite(n,t,i,r,u))}})}function refreshHotel(n,t,i){var u,r,e,f;u=n.gateway_dep.options[n.gateway_dep.selectedIndex].value;r=n.dest_dep.options[n.dest_dep.selectedIndex].value;e=r;r.indexOf("xx")>-1&&(f=r.split("xxx"),r=f[1]);n.no_hotel!=null&&n.no_hotel.type?(n.no_hotel.length=1,Hotels[u]==null||Hotels[u].length==0||Hotels[u][r]==null||Hotels[u][r].length==0?RetreiveHotels(n,u,r,t,i):refreshHotelSuite(n,u,r,t,i)):refreshDuration(n,u,r,t,i)}function refreshHotelSuite(n,t,i,r,u){var f=1,e,o,s;for(n.no_hotel.length=f,e=0;e<Hotels[t][i].length;e++)o=Hotels[t][i][e].split("--xx--"),n.no_hotel.options[f]=new Option(o[0]),n.no_hotel.options[f].value=o[1],r!=""&&o[1]==r&&(n.no_hotel.options[f].selected=!0),f++;$("html").attr("data-template")==="hotelpage"&&(s=SoftVoyageCode,selectHotel(s));$("html").attr("data-template")==="hotelBrandpage"&&$("#Select6 option").filter(function(){var n=$(location).attr("pathname");n=n.substring(n.indexOf("hotel-brands")+13).replace(/[-]/g," ");n.toLowerCase().indexOf($(this).text().substring(4).toLowerCase())!==-1&&$(this).prop("selected",!0)});refreshDuration(n,t,i,r,u)}function refreshStar(n){n.star.options[0].selected=!0;var t=$("#lpc-select-hotel option:selected").val();t===""?($("#lpc-star-rating").removeAttr("disabled"),$(".form-group.dtc.lpc-star-rating").removeClass("disabled-form-input")):($("#lpc-star-rating").attr("disabled","disabled"),$(".form-group.dtc.lpc-star-rating").addClass("disabled-form-input"))}function selectHotel(n){$("#Select6 option").filter(function(){$(this).val()==n&&$(this).prop("selected",!0)})}function refreshDuration(n,t,i,r,u){var h="",c="",l="",a="",v,f,s,e,o;for(n.duration.selectedIndex>-1&&(v=n.duration.options[n.duration.selectedIndex].value),v==""&&(v=7),f=Array(),f=Durations[t]==null||Durations[t].length==0||Durations[t][i]==null||Durations[t][i].length==0?Array(3,7,14):Durations[t][i].split(","),s=!1,f[0]==="FIXED"&&(s=!0,f.shift()),e=0;e<f.length;e++)f[e]>=0&&f[e]<=4?h="Y":f[e]>=5&&f[e]<=10?c="Y":f[e]>=11&&f[e]<=16?l="Y":f[e]>=17&&(a="Y");for(s&&(h="",c="",l="",a=""),n.duration.length=0,indice=0,h!=""&&(n.duration.options[indice]=new Option(Duration_3to4),n.duration.options[indice].value=4,indice++),c!=""&&(n.duration.options[indice]=new Option(Duration_5to10),n.duration.options[indice].value=7,indice++),l!=""&&(n.duration.options[indice]=new Option(Duration_11to16),n.duration.options[indice].value=14,indice++),a!=""&&(n.duration.options[indice]=new Option(Duration_17days),n.duration.options[indice].value=21,indice++),!s&&f.length>0&&(n.duration.options[indice]=new Option(""),n.duration.options[indice].value="",indice++),e=0;e<f.length;e++)n.duration.options[indice]=new Option(f[e]+" "+Duration_daysonly),n.duration.options[indice].value=f[e]+"DAYS",indice++;for(compteur1="",e="",indice="",n.duration.options[0]||(n.duration.options[0]=new Option(Duration_5to10),n.duration.options[0].value=7,n.duration.options[1]=new Option(Duration_3to4),n.duration.options[1].value=4,n.duration.options[2]=new Option(Duration_11to16),n.duration.options[2].value=14),(u==null||u=="")&&(u=7),o=0;o<n.duration.options.length;o++)n.duration.options[o].value==u&&(n.duration.options[o].selected=!0)}function RefreshCarsSuite(){SearchBoxObjExists&&($("#car-pickup-gateway").val(""),$("#car-dropoff-gateway").val(""));$.getJSON(window.location.protocol+"//"+window.location.host+"/Home/GetSearchCarsTabData",function(n){dataCars.push(n)}).always(function(){$("#car-pickup-gateway").autocomplete({minLength:0,source:function(n,t){var i=getCarsData(dataCars[0].Products,null,n);t(i)},select:function(n,t){$("#car-dropoff-gateway").val("");$("#car-dropoff-gateway").autocomplete({minLength:0,source:function(n,i){var r=getCarsData(dataCars[0].Products,t,n);r.unshift({label:SameAs,value:SameAs,regionCode:""});i(r)}}).focus(function(){$(this).data("uiAutocomplete").search($(this).val())})}}).focus(function(){$(this).data("uiAutocomplete").search($(this).val())})})}function validateCarsForm(){var i,r;pickUpGateway=!1;dropOffGateway=!1;pickUpDate=!1;dropffDate=!1;var t=!0,u=$("#car-dropoff-gateway").val(),f=$("#car-pickup-gateway"),e=$.trim(f.val()),n=$("#car-pickup-gateway").val();return $("input[name='gateway_dep']").val(n.substring(n.indexOf("(")+1,n.indexOf(")"))),u===SameAs?$("input[name='dest_dep']").val(n.substring(n.indexOf("(")+1,n.indexOf(")"))):(i=$("#car-dropoff-gateway").val(),$("input[name='dest_dep']").val(i.substring(i.indexOf("(")+1,i.indexOf(")")))),e.length<=0&&(t=!1,pickUpGateway=!0),u.length<=0&&(t=!1,dropOffGateway=!0),$("input[name='date_dep']").val($("#car-pickup-date").val().replace(/-/g,"")),$("input[name='date_ret']").val($("#car-dropoff-date").val().replace(/-/g,"")),pickUpGateway?($(".error-messages.cars").hasClass("show")||$(".error-messages.cars").addClass("show"),$("#cars_error-message-pickup").show(),$("#content-cars .car-pickup-gateway").addClass("error")):($("#content-cars .car-pickup-gateway").removeClass("error"),$("#cars_error-message-pickup").hide()),dropOffGateway?($(".error-messages.cars").hasClass("show")||$(".error-messages.cars").addClass("show"),$("#cars_error-message-dropoff").show(),$("#content-cars .car-dropoff-gateway").addClass("error")):($("#content-cars .car-dropoff-gateway").removeClass("error"),$("#cars_error-message-dropoff").hide()),validateDate($("#car-pickup-date").val())?($("#content-cars .car-pickup-date").removeClass("error"),$("#cars_error-message-pickup-date").hide()):($(".error-messages.cars").hasClass("show")||$(".error-messages.cars").addClass("show"),$("#cars_error-message-pickup-date").show(),$("#content-cars .car-pickup-date").addClass("error"),t=!1),validateDate($("#car-dropoff-date").val())?($("#content-cars .car-dropoff-date").removeClass("error"),$("#cars_error-message-dropoff-date").hide()):($(".error-messages.cars").hasClass("show")||$(".error-messages.cars").addClass("show"),$("#cars_error-message-dropoff-date").show(),$("#content-cars .car-dropoff-date").addClass("error"),t=!1),r=t===!0?!0:!1,r&&$(".error-messages.cars").removeClass("show"),$("input[name='alias']").val(desktopAlias),currentViewPort==="xs"&&isMobileDevice()&&isTouchDevice()&&($("input[name='alias']").val(mobileAlias),$("input[name='isMobile']").val("true"),$("input[name='nb_child_forf']").val($("#nb_child").val())),r}function validateForm(){var n=!0,b,e,o,r,t,u,s,h,c,l,a,v,y,p,f,w;for(validateDate($("#package_date_dep").val())||($(".error-messages.packages").hasClass("show")||$(".error-messages.packages").addClass("show"),$("#error-message-dates").show(),$("#content-packages .departure-date").addClass("error"),n=!1),$("#nb_child option:selected").val()!=0&&$("#nb_rooms option:selected").val()>1&&($(".error-messages.packages").hasClass("show")||$(".error-messages.packages").addClass("show"),$("#error-message-nonadults").show(),$("#content-packages .packages-rooms").addClass("error"),n=!1),document.frm.nb_adult_forf[document.frm.nb_adult_forf.selectedIndex].value%document.frm.nb_rooms[document.frm.nb_rooms.selectedIndex].value&&(b=document.getElementById("nb_adult_forf"),$(".error-messages.packages").hasClass("show")||$(".error-messages.packages").addClass("show"),$("#error-message-nonadults").is(":hidden")&&$("#error-message-modulo").show(),$("#content-packages .packages-adults").addClass("error"),n=!1),e=document.frm.nb_child[document.frm.nb_child.selectedIndex].value,i=1;i<=e;i++)o=eval("document.frm.non_adult_forf"+i).value,o==0&&($(".error-messages.packages").hasClass("show")||$(".error-messages.packages").addClass("show"),$("#error-message-nonadults").is(":hidden")&&$("#error-message-nonadultage").show(),$("#content-packages .packages-children").addClass("error"),$("#content-packages .form-group.childage-wrapper").addClass("error"),$("#promo-packages-childage"+i).parent().addClass("error"),n=!1);if(parseInt($("#nb_child option:selected").val())+parseInt($("#nb_adult option:selected").val())>9&&($(".error-messages.packages").hasClass("show")||$(".error-messages.packages").addClass("show"),$("#error-message-totalPax").show(),$("#content-packages .packages-adults").addClass("error"),$("#content-packages .packages-children").addClass("error"),n=!1),n===!0){$("input[name='alias']").val(desktopAlias);currentViewPort==="xs"&&isMobileDevice()&&isTouchDevice()&&($("input[name='alias']").val(mobileAlias),$("input[name='isMobile']").val("true"),$("input[name='nb_child_forf']").val($("#nb_child").val()));document.frm.date_dep.value=document.frm.package_date_dep.value.replace(/-/g,"");try{for(r=[],t=0,$("#language").val()!=undefined&&(s=$("#language").val().trim()),$("#Select1 option:selected").text()!=undefined&&(f=$("#Select1 option:selected").val().trim()),$("#Select1 option:selected").text()!=undefined&&(h=$("#Select1 option:selected").text().replace(/[^a-zA-Z(/)\s]/gi,"").trim()),$("#Select2 option:selected").text()!=undefined&&(c=$("#Select2 option:selected").text().replace(/[^a-zA-Z(/)\s]/gi,"").trim()),$("#package_date_dep").val()!=undefined&&(l=$("#package_date_dep").val().trim()),$("#duration option:selected").val()!=undefined&&(a=$("#duration option:selected").val().trim()),$("#nb_rooms option:selected").val()!=undefined&&(v=$("#nb_rooms option:selected").val().trim()),$("#nb_adult option:selected").val()!=undefined&&(y=$("#nb_adult option:selected").val().trim()),$("#nb_child option:selected").val()!=undefined&&(t=$("#nb_child option:selected").val().trim()),i=1;i<=t;i++)u=i==1?$("select[name=non_adult_forf1").val().trim():u+","+$("select[name=non_adult_forf"+i).val().trim();$("#Select6 option:selected").text()!=undefined&&(p=$("#Select6 option:selected").text().trim());$("#Select6 option:selected").val()!=undefined&&(w=$("#Select6 option:selected").val().trim());r.push({language:s,deptCode:f,depart:h,dest:c,departDate:l,duration:a,rooms:v,adult:y,child:t,childAge:u,hotel:p,hV:w});$.cookie("_sd",JSON.stringify(r[0]),{domain:".sunwing.ca",path:"/"});$.cookie("SunwingGateway",f,{expires:30,domain:".sunwing.ca",path:"/"})}catch(k){console.log("Error while storing in Cookie"+k)}}return n}function validateDate(n){var i=n,r,t,u;return i==""?!1:(r=/^\d{4}-((0\d)|(1[012]))-(([012]\d)|3[01])$/,t=i.match(r),t==null)?!1:(dtMonth=t[1],dtDay=t[3],dtYear=t[5],dtMonth<1||dtMonth>12)?!1:dtDay<1||dtDay>31||(dtMonth===4||dtMonth===6||dtMonth===9||dtMonth===11)&&dtDay===31||dtMonth==2&&(u=dtYear%4==0&&(dtYear%100!=0||dtYear%400==0),dtDay>29||dtDay===29&&!u)?!1:!0}function InitFlightsDrops(n){gateway=n;getGatewaySource()}function validateHotelForm(){var n=!0,t,r,u,f,e;for($("#dest_dep_text").is("*")&&(t=$("#dest_dep_text").attr("canyouseeme")),$("#dest_dep_text").is("*")&&$("#dest_dep_text").val().length==3&&$(".dest_dep_hotel#"+t).val($("#dest_dep_text").val()),$(".dest_dep_hotel#"+t).is("*")&&($("#dest_dep_text").val().length<3||$(".dest_dep_hotel#"+t).val()=="")&&($("#dest_dep_text").val(""),$(".error-messages.packages").hasClass("show")||$(".error-messages.packages").addClass("show"),$("#error-message-destination").show(),$("#content-hotels .hotel-destination").addClass("error"),$("#dest_dep_text").blur(),n=!1),validateDate($("#hotel-checkin-date").val())||($(".error-messages.packages").hasClass("show")||$(".error-messages.packages").addClass("show"),$("#error-message-dates").show(),$("#content-hotels .hotel-checkin-date").addClass("error"),n=!1),validateDate($("#hotel-checkout-date").val())||($(".error-messages.packages").hasClass("show")||$(".error-messages.packages").addClass("show"),$("#error-message-dates").show(),$("#content-hotels .hotel-checkout-date").addClass("error"),n=!1),$(".hotels-children #nb_child option:selected").val()!=0&&$(".hotels-rooms #nb_rooms option:selected").val()>1&&($(".error-messages.packages").hasClass("show")||$(".error-messages.packages").addClass("show"),$("#error-message-nonadults").show(),$("#content-hotels .hotels-rooms").addClass("error"),n=!1),document.hotels_frm.nb_adult[document.hotels_frm.nb_adult.selectedIndex].value%document.hotels_frm.nb_rooms[document.hotels_frm.nb_rooms.selectedIndex].value&&($(".error-messages.packages").hasClass("show")||$(".error-messages.packages").addClass("show"),$("#error-message-nonadults").is(":hidden")&&$("#error-message-modulo").show(),$("#content-hotels .hotels-adults").addClass("error"),n=!1),r=document.hotels_frm.nb_child[document.hotels_frm.nb_child.selectedIndex].value,i=1;i<=r;i++)u=eval("document.hotels_frm.non_adult"+i).value,u==0&&($(".error-messages.packages").hasClass("show")||$(".error-messages.packages").addClass("show"),$("#error-message-nonadults").is(":hidden")&&$("#error-message-nonadultage").show(),$("#content-hotels .hotels-children").addClass("error"),$("#content-hotels .form-group.childage-wrapper").addClass("error"),$("#promo-packages-childage"+i).parent().addClass("error"),n=!1);return n===!0&&(f=$("#hotel-checkin-date").val(),e=$("#hotel-checkout-date").val(),$("#hotel-checkin-date").val(f.replace(/-/g,"/")),$("#hotel-checkout-date").val(e.replace(/-/g,"/"))),$("input[name='alias']").val(desktopAlias),currentViewPort==="xs"&&isMobileDevice()&&isTouchDevice()&&($("input[name='alias']").val(mobileAlias),$("#search-box-form-hotels").attr("action","//shopping.sunwing.ca/cgi-bin/mobile/results-hotel.cgi"),$("input[name='isMobile']").val("true"),$("input[name='nb_child_forf']").val($("#nb_child").val())),n}function flights_validateForm(){var n=!0,e=/^[a-zA-Z\u00E0-\u00FC ]{3,3}$/,r=$("#flights_Select1").val(),t,o,s;for(r=r.substring(r.indexOf("(")+1,r.indexOf(")")),r.match(e)||($(".error-messages.flights").hasClass("show")||$(".error-messages.flights").addClass("show"),$("#flights_error-message-gateway").show(),$("#content-flights .departure-gateway").addClass("error"),n=!1),t=$("#flights_Select2").val(),t=t.substring(t.indexOf("(")+1,t.indexOf(")")),t.match(e)||($(".error-messages.flights").hasClass("show")||$(".error-messages.flights").addClass("show"),$("#flights_error-message-destination").show(),$("#content-flights .arrival-gateway").addClass("error"),n=!1),validateDate($("#flights_date_dep").val())||($(".error-messages.flights").hasClass("show")||$(".error-messages.flights").addClass("show"),$("#flights_error-message-dates_dep").show(),$("#content-flights .departure-date").addClass("error"),n=!1),$("input[name='searchtype']:checked").val()==="RE"&&!validateDate($("#flights_date_ret").val())&&$(".form-group.dtc.return-date").is(":visible")&&($(".error-messages.flights").hasClass("show")||$(".error-messages.flights").addClass("show"),$("#flights_error-message-dates_ret").show(),$("#content-flights .return-date").addClass("error"),n=!1),o=document.flights_frm.nb_child[document.flights_frm.nb_child.selectedIndex].value,i=1;i<=o;i++)s=eval("document.flights_frm.non_adult"+i).value,s===0&&($(".error-messages.flights").hasClass("show")||$(".error-messages.flights").addClass("show"),$("#flights_error-message-nonadultage").show(),$("#content-flights .flights-children").addClass("error"),$("#content-flights .form-group.childage-wrapper").addClass("error"),$("#flights_promo-flights-childage"+i).parent().addClass("error"),n=!1);if(n===!0){var u=$("#flights_Select1").val(),f=$("#flights_Select2").val().trim().toUpperCase(),h=f.substring(f.indexOf("(")+1,f.indexOf(")"));u=u.substring(u.indexOf("(")+1,u.indexOf(")"));$("input[name='duration']").val(document.flights_frm.flights_duration.value);$("input[name='date_ret']").val("");(f.indexOf("CANADA")!==-1||f.indexOf("USA")!==-1)&&searchType==="RE"&&($("input[name='duration']").val(""),document.flights_frm.date_ret.value=document.flights_frm.flights_date_ret.value.replace(/-/g,""));$("input[name='gateway_dep']").val(u);$("input[name='dest_dep']").val(h);document.flights_frm.date_dep.value=document.flights_frm.flights_date_dep.value.replace(/-/g,"")}return $("input[name='alias']").val(desktopAlias),currentViewPort==="xs"&&isMobileDevice()&&isTouchDevice()&&($(".form-group.dtc.flights-days").is(":visible")?$("input[name='date_ret']").val(addDays(document.flights_frm.flights_date_dep.value,document.flights_frm.flights_duration.value.replace(/r/g,""))):document.flights_frm.date_ret.value=document.flights_frm.flights_date_ret.value.replace(/-/g,""),$("input[name='alias']").val(mobileAlias),$("input[name='isMobile']").val("true"),$("#search-box-form-flights").attr("action","//shopping.sunwing.ca/cgi-bin/mobile/results.cgi"),$("input[name='nb_child_forf']").val($("#nb_child").val())),n}function openLPCLink(){try{var t=$("#language").val(),n=$("#lpc-dep-month").val(),s=n.substring(n.length-4,n.length).trim();n=n.substring(0,n.length-4);n=t==="fr"?parseInt($.inArray(n.trim(),["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]))+1:parseInt($.inArray(n.trim(),["January","February","March","April","May","June","July","August","September","October","November","December"]))+1;n=("0"+n).slice(-2);var i=s+n+"01",r=$("#lpc-departure-gateway").val(),u=$("#Select2").val().trim().replace(/-/g,""),f=$("#lpc-select-hotel").val().trim(),e=$("#lpc-duration").val().trim(),o=$("#lpc-star-rating").val().trim();$("#lightbox-lpc").prop("href","//book.sunwing.ca/cgi-bin/calendrier-lowest-price.cgi?gateway_dep="+r+"&dest_dep="+u+"&no_hotel="+f+"&date_dep="+i+"&duration="+e+"&star="+o+"&searchtype=PA&code_ag=rds&alias=btd&language="+t);currentViewPort==="xs"&&isMobileDevice()&&isTouchDevice()&&$("#lightbox-lpc").prop("href","//book.sunwing.ca/cgi-bin/calendrier-lowest-price.cgi?gateway_dep="+r+"&dest_dep="+u+"&no_hotel="+f+"&date_dep="+i+"&duration="+e+"&star="+o+"&searchtype=PA&code_ag=rds&isMobile=true&alias=btm&language="+t)}catch(h){console.log("Error: "+h)}}function openDeepLink(n,t){window.location.href=n.substr(0,n.indexOf("date_dep=")+9)+$("#"+t+" option:selected").val()+n.substr(n.indexOf("date_dep=")+17,n.length)}function queryParamExists(n){var t=window.location.href.toLowerCase();return t.indexOf("?"+n.toLowerCase()+"=")!==-1?!0:t.indexOf("&"+n.toLowerCase()+"=")!==-1||t.indexOf(n.toLowerCase())!==-1?!0:!1}function urlParam(n){var t=new RegExp("[?&]"+n+"=([^&#]*)").exec(window.location.href);return t[1]||0}var displayGateway,Durations,Destinations,userDate,getCarsData,getGatewaySource,getDestinationSource;!function(n){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],n);else if("object"==typeof exports)n(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";n(jQuery,moment)}}(function(n,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var i=function(i,r){var e,o,s,k,y,it,b,u={},d=!0,l=!1,f=!1,nt=0,ot=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],vt=["days","months","years","decades"],bt=["top","bottom","auto"],kt=["left","right","auto"],dt=["default","top","bottom"],gt={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},st={},yt=function(){return void 0!==t.tz&&void 0!==r.timeZone&&null!==r.timeZone&&""!==r.timeZone},g=function(n){var i;return i=void 0===n||null===n?t():yt()?t.tz(n,it,r.useStrict,r.timeZone):t(n,it,r.useStrict),yt()&&i.tz(r.timeZone),i},p=function(n){if("string"!=typeof n||n.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(n){case"y":return-1!==y.indexOf("Y");case"M":return-1!==y.indexOf("M");case"d":return-1!==y.toLowerCase().indexOf("d");case"h":case"H":return-1!==y.toLowerCase().indexOf("h");case"m":return-1!==y.indexOf("m");case"s":return-1!==y.indexOf("s");default:return!1}},ht=function(){return p("h")||p("m")||p("s")},ct=function(){return p("y")||p("M")||p("d")},ei=function(){var t=n("<thead>").append(n("<tr>").append(n("<th>").addClass("prev").attr("data-action","previous").append(n("<span>").addClass(r.icons.previous))).append(n("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",r.calendarWeeks?"6":"5")).append(n("<th>").addClass("next").attr("data-action","next").append(n("<span>").addClass(r.icons.next)))),i=n("<tbody>").append(n("<tr>").append(n("<td>").attr("colspan",r.calendarWeeks?"8":"7")));return[n("<div>").addClass("datepicker-days").append(n("<table>").addClass("table-condensed").append(t).append(n("<tbody>"))),n("<div>").addClass("datepicker-months").append(n("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),n("<div>").addClass("datepicker-years").append(n("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),n("<div>").addClass("datepicker-decades").append(n("<table>").addClass("table-condensed").append(t.clone()).append(i.clone()))]},oi=function(){var t=n("<tr>"),i=n("<tr>"),u=n("<tr>");return p("h")&&(t.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(n("<span>").addClass(r.icons.up)))),i.append(n("<td>").append(n("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:r.tooltips.pickHour}).attr("data-action","showHours"))),u.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(n("<span>").addClass(r.icons.down))))),p("m")&&(p("h")&&(t.append(n("<td>").addClass("separator")),i.append(n("<td>").addClass("separator").html(":")),u.append(n("<td>").addClass("separator"))),t.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(n("<span>").addClass(r.icons.up)))),i.append(n("<td>").append(n("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:r.tooltips.pickMinute}).attr("data-action","showMinutes"))),u.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(n("<span>").addClass(r.icons.down))))),p("s")&&(p("m")&&(t.append(n("<td>").addClass("separator")),i.append(n("<td>").addClass("separator").html(":")),u.append(n("<td>").addClass("separator"))),t.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(n("<span>").addClass(r.icons.up)))),i.append(n("<td>").append(n("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:r.tooltips.pickSecond}).attr("data-action","showSeconds"))),u.append(n("<td>").append(n("<a>").attr({href:"#",tabindex:"-1",title:r.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(n("<span>").addClass(r.icons.down))))),k||(t.append(n("<td>").addClass("separator")),i.append(n("<td>").append(n("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:r.tooltips.togglePeriod}))),u.append(n("<td>").addClass("separator"))),n("<div>").addClass("timepicker-picker").append(n("<table>").addClass("table-condensed").append([t,i,u]))},si=function(){var i=n("<div>").addClass("timepicker-hours").append(n("<table>").addClass("table-condensed")),r=n("<div>").addClass("timepicker-minutes").append(n("<table>").addClass("table-condensed")),u=n("<div>").addClass("timepicker-seconds").append(n("<table>").addClass("table-condensed")),t=[oi()];return p("h")&&t.push(i),p("m")&&t.push(r),p("s")&&t.push(u),t},hi=function(){var t=[];return r.showTodayButton&&t.push(n("<td>").append(n("<a>").attr({"data-action":"today",title:r.tooltips.today}).append(n("<span>").addClass(r.icons.today)))),!r.sideBySide&&ct()&&ht()&&t.push(n("<td>").append(n("<a>").attr({"data-action":"togglePicker",title:r.tooltips.selectTime}).append(n("<span>").addClass(r.icons.time)))),r.showClear&&t.push(n("<td>").append(n("<a>").attr({"data-action":"clear",title:r.tooltips.clear}).append(n("<span>").addClass(r.icons.clear)))),r.showClose&&t.push(n("<td>").append(n("<a>").attr({"data-action":"close",title:r.tooltips.close}).append(n("<span>").addClass(r.icons.close)))),n("<table>").addClass("table-condensed").append(n("<tbody>").append(n("<tr>").append(t)))},ci=function(){var t=n("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),f=n("<div>").addClass("datepicker").append(ei()),e=n("<div>").addClass("timepicker").append(si()),i=n("<ul>").addClass("list-unstyled"),u=n("<li>").addClass("picker-switch"+(r.collapse?" accordion-toggle":"")).append(hi());return r.inline&&t.removeClass("dropdown-menu"),k&&t.addClass("usetwentyfour"),p("s")&&!k&&t.addClass("wider"),r.sideBySide&&ct()&&ht()?(t.addClass("timepicker-sbs"),"top"===r.toolbarPlacement&&t.append(u),t.append(n("<div>").addClass("row").append(f.addClass("col-md-6")).append(e.addClass("col-md-6"))),"bottom"===r.toolbarPlacement&&t.append(u),t):("top"===r.toolbarPlacement&&i.append(u),ct()&&i.append(n("<li>").addClass(r.collapse&&ht()?"collapse in":"").append(f)),"default"===r.toolbarPlacement&&i.append(u),ht()&&i.append(n("<li>").addClass(r.collapse&&ct()?"collapse":"").append(e)),"bottom"===r.toolbarPlacement&&i.append(u),t.append(i))},li=function(){var t,u={};return t=i.is("input")||r.inline?i.data():i.find("input").data(),t.dateOptions&&t.dateOptions instanceof Object&&(u=n.extend(!0,u,t.dateOptions)),n.each(r,function(n){var i="date"+n.charAt(0).toUpperCase()+n.slice(1);void 0!==t[i]&&(u[n]=t[i])}),u},pt=function(){var t,o=(l||i).position(),s=(l||i).offset(),u=r.widgetPositioning.vertical,e=r.widgetPositioning.horizontal;if(r.widgetParent)t=r.widgetParent.append(f);else if(i.is("input"))t=i.after(f).parent();else{if(r.inline)return void(t=i.append(f));t=i;i.children().first().after(f)}if("auto"===u&&(u=s.top+1.5*f.height()>=n(window).height()+n(window).scrollTop()&&f.height()+i.outerHeight()<s.top?"top":"bottom"),"auto"===e&&(e=t.width()<s.left+f.outerWidth()/2&&s.left+f.outerWidth()>n(window).width()?"right":"left"),"top"===u?f.addClass("top").removeClass("bottom"):f.addClass("bottom").removeClass("top"),"right"===e?f.addClass("pull-right"):f.removeClass("pull-right"),"relative"!==t.css("position")&&(t=t.parents().filter(function(){return"relative"===n(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a relative positioned container");f.css({top:"top"===u?"auto":o.top+i.outerHeight(),bottom:"top"===u?t.outerHeight()-(t===i?0:o.top):"auto",left:"left"===e?t===i?0:o.left:"auto",right:"left"===e?"auto":t.outerWidth()-i.outerWidth()-(t===i?0:o.left)})},rt=function(n){"dp.change"===n.type&&(n.date&&n.date.isSame(n.oldDate)||!n.date&&!n.oldDate)||i.trigger(n)},ut=function(n){"y"===n&&(n="YYYY");rt({type:"dp.update",change:n,viewDate:o.clone()})},ft=function(n){f&&(n&&(b=Math.max(nt,Math.min(3,b+n))),f.find(".datepicker > div").hide().filter(".datepicker-"+ot[b].clsName).show())},ai=function(){var t=n("<tr>"),i=o.clone().startOf("w").startOf("d");for(r.calendarWeeks===!0&&t.append(n("<th>").addClass("cw").text("#"));i.isBefore(o.clone().endOf("w"));)t.append(n("<th>").addClass("dow").text(i.format("dd"))),i.add(1,"d");f.find(".datepicker-days thead").append(t)},vi=function(n){return r.disabledDates[n.format("YYYY-MM-DD")]===!0},yi=function(n){return r.enabledDates[n.format("YYYY-MM-DD")]===!0},pi=function(n){return r.disabledHours[n.format("H")]===!0},wi=function(n){return r.enabledHours[n.format("H")]===!0},c=function(t,i){if(!t.isValid()||r.disabledDates&&"d"===i&&vi(t)||r.enabledDates&&"d"===i&&!yi(t)||r.minDate&&t.isBefore(r.minDate,i)||r.maxDate&&t.isAfter(r.maxDate,i)||r.daysOfWeekDisabled&&"d"===i&&-1!==r.daysOfWeekDisabled.indexOf(t.day())||r.disabledHours&&("h"===i||"m"===i||"s"===i)&&pi(t)||r.enabledHours&&("h"===i||"m"===i||"s"===i)&&!wi(t))return!1;if(r.disabledTimeIntervals&&("h"===i||"m"===i||"s"===i)){var u=!1;if(n.each(r.disabledTimeIntervals,function(){if(t.isBetween(this[0],this[1]))return(u=!0,!1)}),u)return!1}return!0},bi=function(){for(var i=[],t=o.clone().startOf("y").startOf("d");t.isSame(o,"y");)i.push(n("<span>").attr("data-action","selectMonth").addClass("month").text(t.format("MMM"))),t.add(1,"M");f.find(".datepicker-months td").empty().append(i)},ki=function(){var i=f.find(".datepicker-months"),t=i.find("th"),u=i.find("tbody").find("span");t.eq(0).find("span").attr("title",r.tooltips.prevYear);t.eq(1).attr("title",r.tooltips.selectYear);t.eq(2).find("span").attr("title",r.tooltips.nextYear);i.find(".disabled").removeClass("disabled");c(o.clone().subtract(1,"y"),"y")||t.eq(0).addClass("disabled");t.eq(1).text(o.year());c(o.clone().add(1,"y"),"y")||t.eq(2).addClass("disabled");u.removeClass("active");e.isSame(o,"y")&&!d&&u.eq(e.month()).addClass("active");u.each(function(t){c(o.clone().month(t),"M")||n(this).addClass("disabled")})},di=function(){var i=f.find(".datepicker-years"),t=i.find("th"),n=o.clone().subtract(5,"y"),u=o.clone().add(6,"y"),s="";for(t.eq(0).find("span").attr("title",r.tooltips.prevDecade),t.eq(1).attr("title",r.tooltips.selectDecade),t.eq(2).find("span").attr("title",r.tooltips.nextDecade),i.find(".disabled").removeClass("disabled"),r.minDate&&r.minDate.isAfter(n,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(n.year()+"-"+u.year()),r.maxDate&&r.maxDate.isBefore(u,"y")&&t.eq(2).addClass("disabled");!n.isAfter(u,"y");)s+='<span data-action="selectYear" class="year'+(n.isSame(e,"y")&&!d?" active":"")+(c(n,"y")?"":" disabled")+'">'+n.year()+"<\/span>",n.add(1,"y");i.find("td").html(s)},gi=function(){var u,s=f.find(".datepicker-decades"),i=s.find("th"),n=t({y:o.year()-o.year()%100-1}),h=n.clone().add(100,"y"),y=n.clone(),a=!1,v=!1,l="";for(i.eq(0).find("span").attr("title",r.tooltips.prevCentury),i.eq(2).find("span").attr("title",r.tooltips.nextCentury),s.find(".disabled").removeClass("disabled"),(n.isSame(t({y:1900}))||r.minDate&&r.minDate.isAfter(n,"y"))&&i.eq(0).addClass("disabled"),i.eq(1).text(n.year()+"-"+h.year()),(n.isSame(t({y:2e3}))||r.maxDate&&r.maxDate.isBefore(h,"y"))&&i.eq(2).addClass("disabled");!n.isAfter(h,"y");)u=n.year()+12,a=r.minDate&&r.minDate.isAfter(n,"y")&&r.minDate.year()<=u,v=r.maxDate&&r.maxDate.isAfter(n,"y")&&r.maxDate.year()<=u,l+='<span data-action="selectDecade" class="decade'+(e.isAfter(n)&&e.year()<=u?" active":"")+(c(n,"y")||a||v?"":" disabled")+'" data-selection="'+(n.year()+6)+'">'+(n.year()+1)+" - "+(n.year()+12)+"<\/span>",n.add(12,"y");l+="<span><\/span><span><\/span><span><\/span>";s.find("td").html(l);i.eq(1).text(y.year()+1+"-"+n.year())},et=function(){var t,s,i,h,l=f.find(".datepicker-days"),u=l.find("th"),a=[];if(ct()){for(u.eq(0).find("span").attr("title",r.tooltips.prevMonth),u.eq(1).attr("title",r.tooltips.selectMonth),u.eq(2).find("span").attr("title",r.tooltips.nextMonth),l.find(".disabled").removeClass("disabled"),u.eq(1).text(o.format(r.dayViewHeaderFormat)),c(o.clone().subtract(1,"M"),"M")||u.eq(0).addClass("disabled"),c(o.clone().add(1,"M"),"M")||u.eq(2).addClass("disabled"),t=o.clone().startOf("M").startOf("w").startOf("d"),h=0;42>h;h++)0===t.weekday()&&(s=n("<tr>"),r.calendarWeeks&&s.append('<td class="cw">'+t.week()+"<\/td>"),a.push(s)),i="",t.isBefore(o,"M")&&(i+=" old"),t.isAfter(o,"M")&&(i+=" new"),t.isSame(e,"d")&&!d&&(i+=" active"),c(t,"d")||(i+=" disabled"),t.isSame(g(),"d")&&(i+=" today"),0!==t.day()&&6!==t.day()||(i+=" weekend"),s.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="day'+i+'">'+t.date()+"<\/td>"),t.add(1,"d");l.find("tbody").empty().append(a);ki();di();gi()}},nr=function(){var u=f.find(".timepicker-hours table"),t=o.clone().startOf("d"),r=[],i=n("<tr>");for(o.hour()>11&&!k&&t.hour(12);t.isSame(o,"d")&&(k||o.hour()<12&&t.hour()<12||o.hour()>11);)t.hour()%4==0&&(i=n("<tr>"),r.push(i)),i.append('<td data-action="selectHour" class="hour'+(c(t,"h")?"":" disabled")+'">'+t.format(k?"HH":"hh")+"<\/td>"),t.add(1,"h");u.empty().append(r)},tr=function(){for(var s=f.find(".timepicker-minutes table"),t=o.clone().startOf("h"),u=[],i=n("<tr>"),e=1===r.stepping?5:r.stepping;o.isSame(t,"h");)t.minute()%(4*e)==0&&(i=n("<tr>"),u.push(i)),i.append('<td data-action="selectMinute" class="minute'+(c(t,"m")?"":" disabled")+'">'+t.format("mm")+"<\/td>"),t.add(e,"m");s.empty().append(u)},ir=function(){for(var u=f.find(".timepicker-seconds table"),t=o.clone().startOf("m"),r=[],i=n("<tr>");o.isSame(t,"m");)t.second()%20==0&&(i=n("<tr>"),r.push(i)),i.append('<td data-action="selectSecond" class="second'+(c(t,"s")?"":" disabled")+'">'+t.format("ss")+"<\/td>"),t.add(5,"s");u.empty().append(r)},rr=function(){var n,i,t=f.find(".timepicker span[data-time-component]");k||(n=f.find(".timepicker [data-action=togglePeriod]"),i=e.clone().add(e.hours()>=12?-12:12,"h"),n.text(e.format("A")),c(i,"h")?n.removeClass("disabled"):n.addClass("disabled"));t.filter("[data-time-component=hours]").text(e.format(k?"HH":"hh"));t.filter("[data-time-component=minutes]").text(e.format("mm"));t.filter("[data-time-component=seconds]").text(e.format("ss"));nr();tr();ir()},a=function(){f&&(et(),rr())},h=function(n){var t=d?null:e;return n?(n=n.clone().locale(r.locale),yt()&&n.tz(r.timeZone),1!==r.stepping&&n.minutes(Math.round(n.minutes()/r.stepping)*r.stepping).seconds(0),void(c(n)?(e=n,s.val(e.format(y)),i.data("date",e.format(y)),d=!1,a(),rt({type:"dp.change",date:e.clone(),oldDate:t})):(r.keepInvalid?rt({type:"dp.change",date:n,oldDate:t}):s.val(d?"":e.format(y)),rt({type:"dp.error",date:n,oldDate:t})))):(d=!0,s.val(""),i.data("date",""),rt({type:"dp.change",date:!1,oldDate:t}),void a())},v=function(){var t=!1;return f?(f.find(".collapse").each(function(){var i=n(this).data("collapse");return i&&i.transitioning?(t=!0,!1):!0}),t?u:(l&&l.hasClass("btn")&&l.toggleClass("active"),f.hide(),n(window).off("resize",pt),f.off("click","[data-action]"),f.off("mousedown",!1),f.remove(),f=!1,rt({type:"dp.hide",date:e.clone()}),s.blur(),o=e.clone(),u)):u},ni=function(){h(null)},tt=function(n){return void 0===r.parseInputDate?t.isMoment(n)||(n=g(n)):n=r.parseInputDate(n),n},lt={next:function(){var n=ot[b].navFnc;o.add(ot[b].navStep,n);et();ut(n)},previous:function(){var n=ot[b].navFnc;o.subtract(ot[b].navStep,n);et();ut(n)},pickerSwitch:function(){ft(1)},selectMonth:function(t){var i=n(t.target).closest("tbody").find("span").index(n(t.target));o.month(i);b===nt?(h(e.clone().year(o.year()).month(o.month())),r.inline||v()):(ft(-1),et());ut("M")},selectYear:function(t){var i=parseInt(n(t.target).text(),10)||0;o.year(i);b===nt?(h(e.clone().year(o.year())),r.inline||v()):(ft(-1),et());ut("YYYY")},selectDecade:function(t){var i=parseInt(n(t.target).data("selection"),10)||0;o.year(i);b===nt?(h(e.clone().year(o.year())),r.inline||v()):(ft(-1),et());ut("YYYY")},selectDay:function(t){var i=o.clone();n(t.target).is(".old")&&i.subtract(1,"M");n(t.target).is(".new")&&i.add(1,"M");h(i.date(parseInt(n(t.target).text(),10)));ht()||r.keepOpen||r.inline||v()},incrementHours:function(){var n=e.clone().add(1,"h");c(n,"h")&&h(n)},incrementMinutes:function(){var n=e.clone().add(r.stepping,"m");c(n,"m")&&h(n)},incrementSeconds:function(){var n=e.clone().add(1,"s");c(n,"s")&&h(n)},decrementHours:function(){var n=e.clone().subtract(1,"h");c(n,"h")&&h(n)},decrementMinutes:function(){var n=e.clone().subtract(r.stepping,"m");c(n,"m")&&h(n)},decrementSeconds:function(){var n=e.clone().subtract(1,"s");c(n,"s")&&h(n)},togglePeriod:function(){h(e.clone().add(e.hours()>=12?-12:12,"h"))},togglePicker:function(t){var f,u=n(t.target),e=u.closest("ul"),i=e.find(".in"),o=e.find(".collapse:not(.in)");if(i&&i.length){if(f=i.data("collapse"),f&&f.transitioning)return;i.collapse?(i.collapse("hide"),o.collapse("show")):(i.removeClass("in"),o.addClass("in"));u.is("span")?u.toggleClass(r.icons.time+" "+r.icons.date):u.find("span").toggleClass(r.icons.time+" "+r.icons.date)}},showPicker:function(){f.find(".timepicker > div:not(.timepicker-picker)").hide();f.find(".timepicker .timepicker-picker").show()},showHours:function(){f.find(".timepicker .timepicker-picker").hide();f.find(".timepicker .timepicker-hours").show()},showMinutes:function(){f.find(".timepicker .timepicker-picker").hide();f.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){f.find(".timepicker .timepicker-picker").hide();f.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var i=parseInt(n(t.target).text(),10);k||(e.hours()>=12?12!==i&&(i+=12):12===i&&(i=0));h(e.clone().hours(i));lt.showPicker.call(u)},selectMinute:function(t){h(e.clone().minutes(parseInt(n(t.target).text(),10)));lt.showPicker.call(u)},selectSecond:function(t){h(e.clone().seconds(parseInt(n(t.target).text(),10)));lt.showPicker.call(u)},clear:ni,today:function(){var n=g();c(n,"d")&&h(n)},close:v},ur=function(t){return n(t.currentTarget).is(".disabled")?!1:(lt[n(t.currentTarget).data("action")].apply(u,arguments),!1)},w=function(){var t,i={year:function(n){return n.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(n){return n.date(1).hours(0).seconds(0).minutes(0)},day:function(n){return n.hours(0).seconds(0).minutes(0)},hour:function(n){return n.seconds(0).minutes(0)},minute:function(n){return n.seconds(0)}};return s.prop("disabled")||!r.ignoreReadonly&&s.prop("readonly")||f?u:(void 0!==s.val()&&0!==s.val().trim().length?h(tt(s.val().trim())):d&&r.useCurrent&&(r.inline||s.is("input")&&0===s.val().trim().length)&&(t=g(),"string"==typeof r.useCurrent&&(t=i[r.useCurrent](t)),h(t)),f=ci(),ai(),bi(),f.find(".timepicker-hours").hide(),f.find(".timepicker-minutes").hide(),f.find(".timepicker-seconds").hide(),a(),ft(),n(window).on("resize",pt),f.on("click","[data-action]",ur),f.on("mousedown",!1),l&&l.hasClass("btn")&&l.toggleClass("active"),pt(),f.show(),r.focusOnShow&&!s.is(":focus")&&s.focus(),rt({type:"dp.show"}),u)},wt=function(){return f?v():w()},ti=function(n){var t,e,i,o,s=null,c=[],l={},h=n.which,a="p";st[h]=a;for(t in st)st.hasOwnProperty(t)&&st[t]===a&&(c.push(t),parseInt(t,10)!==h&&(l[t]=!0));for(t in r.keyBinds)if(r.keyBinds.hasOwnProperty(t)&&"function"==typeof r.keyBinds[t]&&(i=t.split(" "),i.length===c.length&&gt[h]===i[i.length-1])){for(o=!0,e=i.length-2;e>=0;e--)if(!(gt[i[e]]in l)){o=!1;break}if(o){s=r.keyBinds[t];break}}s&&(s.call(u,f),n.stopPropagation(),n.preventDefault())},ii=function(n){st[n.which]="r";n.stopPropagation();n.preventDefault()},ri=function(t){var i=n(t.target).val().trim(),r=i?tt(i):null;return h(r),t.stopImmediatePropagation(),!1},fr=function(){s.on({change:ri,blur:r.debug?"":v,keydown:ti,keyup:ii,focus:r.allowInputToggle?w:""});i.is("input")?s.on({focus:w}):l&&(l.on("click",wt),l.on("mousedown",!1))},er=function(){s.off({change:ri,blur:blur,keydown:ti,keyup:ii,focus:r.allowInputToggle?v:""});i.is("input")?s.off({focus:w}):l&&(l.off("click",wt),l.off("mousedown",!1))},ui=function(t){var i={};return n.each(t,function(){var n=tt(this);n.isValid()&&(i[n.format("YYYY-MM-DD")]=!0)}),Object.keys(i).length?i:!1},fi=function(t){var i={};return n.each(t,function(){i[this]=!0}),Object.keys(i).length?i:!1},at=function(){var n=r.format||"L LT";y=n.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(n){var t=e.localeData().longDateFormat(n)||n;return t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(n){return e.localeData().longDateFormat(n)||n})});it=r.extraFormats?r.extraFormats.slice():[];it.indexOf(n)<0&&it.indexOf(y)<0&&it.push(y);k=y.toLowerCase().indexOf("a")<1&&y.replace(/\[.*?\]/g,"").indexOf("h")<1;p("y")&&(nt=2);p("M")&&(nt=1);p("d")&&(nt=0);b=Math.max(nt,b);d||h(e)};if(u.destroy=function(){v();er();i.removeData("DateTimePicker");i.removeData("date")},u.toggle=wt,u.show=w,u.hide=v,u.disable=function(){return v(),l&&l.hasClass("btn")&&l.addClass("disabled"),s.prop("disabled",!0),u},u.enable=function(){return l&&l.hasClass("btn")&&l.removeClass("disabled"),s.prop("disabled",!1),u},u.ignoreReadonly=function(n){if(0===arguments.length)return r.ignoreReadonly;if("boolean"!=typeof n)throw new TypeError("ignoreReadonly () expects a boolean parameter");return r.ignoreReadonly=n,u},u.options=function(t){if(0===arguments.length)return n.extend(!0,{},r);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return n.extend(!0,r,t),n.each(r,function(n,t){if(void 0===u[n])throw new TypeError("option "+n+" is not recognized!");u[n](t)}),u},u.date=function(n){if(0===arguments.length)return d?null:e.clone();if(!(null===n||"string"==typeof n||t.isMoment(n)||n instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return h(null===n?null:tt(n)),u},u.format=function(n){if(0===arguments.length)return r.format;if("string"!=typeof n&&("boolean"!=typeof n||n!==!1))throw new TypeError("format() expects a string or boolean:false parameter "+n);return r.format=n,y&&at(),u},u.timeZone=function(n){if(0===arguments.length)return r.timeZone;if("string"!=typeof n)throw new TypeError("newZone() expects a string parameter");return r.timeZone=n,u},u.dayViewHeaderFormat=function(n){if(0===arguments.length)return r.dayViewHeaderFormat;if("string"!=typeof n)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return r.dayViewHeaderFormat=n,u},u.extraFormats=function(n){if(0===arguments.length)return r.extraFormats;if(n!==!1&&!(n instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return r.extraFormats=n,it&&at(),u},u.disabledDates=function(t){if(0===arguments.length)return r.disabledDates?n.extend({},r.disabledDates):r.disabledDates;if(!t)return r.disabledDates=!1,a(),u;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return r.disabledDates=ui(t),r.enabledDates=!1,a(),u},u.enabledDates=function(t){if(0===arguments.length)return r.enabledDates?n.extend({},r.enabledDates):r.enabledDates;if(!t)return r.enabledDates=!1,a(),u;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return r.enabledDates=ui(t),r.disabledDates=!1,a(),u},u.daysOfWeekDisabled=function(n){if(0===arguments.length)return r.daysOfWeekDisabled.splice(0);if("boolean"==typeof n&&!n)return r.daysOfWeekDisabled=!1,a(),u;if(!(n instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(r.daysOfWeekDisabled=n.reduce(function(n,t){return t=parseInt(t,10),t>6||0>t||isNaN(t)?n:(-1===n.indexOf(t)&&n.push(t),n)},[]).sort(),r.useCurrent&&!r.keepInvalid){for(var t=0;!c(e,"d");){if(e.add(1,"d"),7===t)throw"Tried 7 times to find a valid date";t++}h(e)}return a(),u},u.maxDate=function(n){if(0===arguments.length)return r.maxDate?r.maxDate.clone():r.maxDate;if("boolean"==typeof n&&n===!1)return r.maxDate=!1,a(),u;"string"==typeof n&&("now"!==n&&"moment"!==n||(n=g()));var t=tt(n);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+n);if(r.minDate&&t.isBefore(r.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(y));return r.maxDate=t,r.useCurrent&&!r.keepInvalid&&e.isAfter(n)&&h(r.maxDate),o.isAfter(t)&&(o=t.clone().subtract(r.stepping,"m")),a(),u},u.minDate=function(n){if(0===arguments.length)return r.minDate?r.minDate.clone():r.minDate;if("boolean"==typeof n&&n===!1)return r.minDate=!1,a(),u;"string"==typeof n&&("now"!==n&&"moment"!==n||(n=g()));var t=tt(n);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+n);if(r.maxDate&&t.isAfter(r.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(y));return r.minDate=t,r.useCurrent&&!r.keepInvalid&&e.isBefore(n)&&h(r.minDate),o.isBefore(t)&&(o=t.clone().add(r.stepping,"m")),a(),u},u.defaultDate=function(n){if(0===arguments.length)return r.defaultDate?r.defaultDate.clone():r.defaultDate;if(!n)return r.defaultDate=!1,u;"string"==typeof n&&(n="now"===n||"moment"===n?g():g(n));var t=tt(n);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+n);if(!c(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return r.defaultDate=t,(r.defaultDate&&r.inline||""===s.val().trim())&&h(r.defaultDate),u},u.locale=function(n){if(0===arguments.length)return r.locale;if(!t.localeData(n))throw new TypeError("locale() locale "+n+" is not loaded from moment locales!");return r.locale=n,e.locale(r.locale),o.locale(r.locale),y&&at(),f&&(v(),w()),u},u.stepping=function(n){return 0===arguments.length?r.stepping:(n=parseInt(n,10),(isNaN(n)||1>n)&&(n=1),r.stepping=n,u)},u.useCurrent=function(n){var t=["year","month","day","hour","minute"];if(0===arguments.length)return r.useCurrent;if("boolean"!=typeof n&&"string"!=typeof n)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof n&&-1===t.indexOf(n.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return r.useCurrent=n,u},u.collapse=function(n){if(0===arguments.length)return r.collapse;if("boolean"!=typeof n)throw new TypeError("collapse() expects a boolean parameter");return r.collapse===n?u:(r.collapse=n,f&&(v(),w()),u)},u.icons=function(t){if(0===arguments.length)return n.extend({},r.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return n.extend(r.icons,t),f&&(v(),w()),u},u.tooltips=function(t){if(0===arguments.length)return n.extend({},r.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return n.extend(r.tooltips,t),f&&(v(),w()),u},u.useStrict=function(n){if(0===arguments.length)return r.useStrict;if("boolean"!=typeof n)throw new TypeError("useStrict() expects a boolean parameter");return r.useStrict=n,u},u.sideBySide=function(n){if(0===arguments.length)return r.sideBySide;if("boolean"!=typeof n)throw new TypeError("sideBySide() expects a boolean parameter");return r.sideBySide=n,f&&(v(),w()),u},u.viewMode=function(n){if(0===arguments.length)return r.viewMode;if("string"!=typeof n)throw new TypeError("viewMode() expects a string parameter");if(-1===vt.indexOf(n))throw new TypeError("viewMode() parameter must be one of ("+vt.join(", ")+") value");return r.viewMode=n,b=Math.max(vt.indexOf(n),nt),ft(),u},u.toolbarPlacement=function(n){if(0===arguments.length)return r.toolbarPlacement;if("string"!=typeof n)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===dt.indexOf(n))throw new TypeError("toolbarPlacement() parameter must be one of ("+dt.join(", ")+") value");return r.toolbarPlacement=n,f&&(v(),w()),u},u.widgetPositioning=function(t){if(0===arguments.length)return n.extend({},r.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===kt.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+kt.join(", ")+")");r.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===bt.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+bt.join(", ")+")");r.widgetPositioning.vertical=t.vertical}return a(),u},u.calendarWeeks=function(n){if(0===arguments.length)return r.calendarWeeks;if("boolean"!=typeof n)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return r.calendarWeeks=n,a(),u},u.showTodayButton=function(n){if(0===arguments.length)return r.showTodayButton;if("boolean"!=typeof n)throw new TypeError("showTodayButton() expects a boolean parameter");return r.showTodayButton=n,f&&(v(),w()),u},u.showClear=function(n){if(0===arguments.length)return r.showClear;if("boolean"!=typeof n)throw new TypeError("showClear() expects a boolean parameter");return r.showClear=n,f&&(v(),w()),u},u.widgetParent=function(t){if(0===arguments.length)return r.widgetParent;if("string"==typeof t&&(t=n(t)),null!==t&&"string"!=typeof t&&!(t instanceof n))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return r.widgetParent=t,f&&(v(),w()),u},u.keepOpen=function(n){if(0===arguments.length)return r.keepOpen;if("boolean"!=typeof n)throw new TypeError("keepOpen() expects a boolean parameter");return r.keepOpen=n,u},u.focusOnShow=function(n){if(0===arguments.length)return r.focusOnShow;if("boolean"!=typeof n)throw new TypeError("focusOnShow() expects a boolean parameter");return r.focusOnShow=n,u},u.inline=function(n){if(0===arguments.length)return r.inline;if("boolean"!=typeof n)throw new TypeError("inline() expects a boolean parameter");return r.inline=n,u},u.clear=function(){return ni(),u},u.keyBinds=function(n){return 0===arguments.length?r.keyBinds:(r.keyBinds=n,u)},u.getMoment=function(n){return g(n)},u.debug=function(n){if("boolean"!=typeof n)throw new TypeError("debug() expects a boolean parameter");return r.debug=n,u},u.allowInputToggle=function(n){if(0===arguments.length)return r.allowInputToggle;if("boolean"!=typeof n)throw new TypeError("allowInputToggle() expects a boolean parameter");return r.allowInputToggle=n,u},u.showClose=function(n){if(0===arguments.length)return r.showClose;if("boolean"!=typeof n)throw new TypeError("showClose() expects a boolean parameter");return r.showClose=n,u},u.keepInvalid=function(n){if(0===arguments.length)return r.keepInvalid;if("boolean"!=typeof n)throw new TypeError("keepInvalid() expects a boolean parameter");return r.keepInvalid=n,u},u.datepickerInput=function(n){if(0===arguments.length)return r.datepickerInput;if("string"!=typeof n)throw new TypeError("datepickerInput() expects a string parameter");return r.datepickerInput=n,u},u.parseInputDate=function(n){if(0===arguments.length)return r.parseInputDate;if("function"!=typeof n)throw new TypeError("parseInputDate() sholud be as function");return r.parseInputDate=n,u},u.disabledTimeIntervals=function(t){if(0===arguments.length)return r.disabledTimeIntervals?n.extend({},r.disabledTimeIntervals):r.disabledTimeIntervals;if(!t)return r.disabledTimeIntervals=!1,a(),u;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return r.disabledTimeIntervals=t,a(),u},u.disabledHours=function(t){if(0===arguments.length)return r.disabledHours?n.extend({},r.disabledHours):r.disabledHours;if(!t)return r.disabledHours=!1,a(),u;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(r.disabledHours=fi(t),r.enabledHours=!1,r.useCurrent&&!r.keepInvalid){for(var i=0;!c(e,"h");){if(e.add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}h(e)}return a(),u},u.enabledHours=function(t){if(0===arguments.length)return r.enabledHours?n.extend({},r.enabledHours):r.enabledHours;if(!t)return r.enabledHours=!1,a(),u;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(r.enabledHours=fi(t),r.disabledHours=!1,r.useCurrent&&!r.keepInvalid){for(var i=0;!c(e,"h");){if(e.add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}h(e)}return a(),u},u.viewDate=function(n){if(0===arguments.length)return o.clone();if(!n)return o=e.clone(),u;if(!("string"==typeof n||t.isMoment(n)||n instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return o=tt(n),ut(),u},i.is("input"))s=i;else if(s=i.find(r.datepickerInput),0===s.length)s=i.find("input");else if(!s.is("input"))throw new Error('CSS class "'+r.datepickerInput+'" cannot be applied to non input element');if(i.hasClass("input-group")&&(l=0===i.find(".datepickerbutton").length?i.find(".input-group-addon"):i.find(".datepickerbutton")),!r.inline&&!s.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return e=g(),o=e.clone(),n.extend(!0,r,li()),u.options(r),at(),fr(),s.prop("disabled")&&u.disable(),s.is("input")&&0!==s.val().trim().length?h(tt(s.val().trim())):r.defaultDate&&void 0===s.attr("placeholder")&&h(r.defaultDate),r.inline&&w(),u};n.fn.datetimepicker=function(t){t=t||{};var r,f=Array.prototype.slice.call(arguments,1),u=!0;if("object"==typeof t)return this.each(function(){var r=n(this);r.data("DateTimePicker")||(t=n.extend(!0,{},n.fn.datetimepicker.defaults,t),r.data("DateTimePicker",i(r,t)))});if("string"==typeof t)return this.each(function(){var e=n(this),i=e.data("DateTimePicker");if(!i)throw new Error('bootstrap-datetimepicker("'+t+'") method was called on an element that is not using DateTimePicker');r=i[t].apply(i,f);u=r===i}),u||n.inArray(t,["destroy","hide","show","toggle"])>-1?this:r;throw new TypeError("Invalid arguments for DateTimePicker: "+t);};n.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(n){if(!n)return void this.show();var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))},"control up":function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(n){if(n){var t=this.date()||this.getMoment();n.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(n){n.find(".timepicker").is(":visible")&&n.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1};"undefined"!=typeof module&&(module.exports=n.fn.datetimepicker)}),function(n){typeof define=="function"&&define.amd?define(["moment"],n):typeof exports=="object"?module.exports=n(require("../moment")):n(window.moment)}(function(n){return Lang==="fr"?n.locale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(n){return n+(n===1?"er":"")}}):n.locale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(n){var t=n%10,i=~~(n%100/10)==1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return n+i}})});queryParamExists("dalias")&&(desktopAlias=urlParam("dalias"));queryParamExists("malias")&&(mobileAlias=urlParam("malias"));$(location).attr("pathname").indexOf("/affiliates/")!==-1&&($.cookie("_afd_")!==null&&$.cookie("_afd_")!==undefined?desktopAlias=$.cookie("_afd_"):$.cookie("_afd_",desktopAlias,{expires:30,domain:".sunwing.ca",path:"/affiliates/"}),$.cookie("_afm_")!==null&&$.cookie("_afm_")!==undefined?mobileAlias=$.cookie("_afm_"):$.cookie("_afm_",mobileAlias,{expires:30,domain:".sunwing.ca",path:"/affiliates/"}));displayGateway="YYZ";Lang==="fr"&&(displayGateway="YUL");queryParamExists("gatewaycode")&&(displayGateway=urlParam("gatewaycode").toUpperCase());var flightObj=$("#content-flights"),flightExists=flightObj.length>0?!0:!1,LPCObj=$("#lpc-search-box"),LPCObjExists=LPCObj.length>0?!0:!1,SearchBoxObj=$("#search-box"),SearchBoxObjExists=SearchBoxObj.length>0?!0:!1,dataCars=[],codesPrepopulations=Array();codesPrepopulations.ACA="1";codesPrepopulations["1"]="1";codesPrepopulations.CUN="2_24_3049111_3049105";codesPrepopulations["2"]="2_24_3049111_3049105";codesPrepopulations.CYO="3";codesPrepopulations["3"]="3";codesPrepopulations.CFG="4";codesPrepopulations["4"]="4";codesPrepopulations.ZLO="5";codesPrepopulations["5"]="5";codesPrepopulations.HOG="6";codesPrepopulations["6"]="6";codesPrepopulations.ZIH="7";codesPrepopulations["7"]="7";codesPrepopulations.POP="8_12_13";codesPrepopulations["8"]="8_12_13";codesPrepopulations.PVR="9_156";codesPrepopulations["9"]="9";codesPrepopulations.PUJ="10";codesPrepopulations["10"]="10";codesPrepopulations.CTG="11";codesPrepopulations["11"]="11";codesPrepopulations.POP="8_12_13";codesPrepopulations["12"]="12";codesPrepopulations.POP="8_12_13";codesPrepopulations["13"]="13";codesPrepopulations.SDQ="73_14";codesPrepopulations["14"]="73_14";codesPrepopulations.HEX="73_14";codesPrepopulations["14"]="73_14";codesPrepopulations.VRA="15";codesPrepopulations["15"]="15";codesPrepopulations["16"]="16";codesPrepopulations.CZM="17";codesPrepopulations["17"]="17";codesPrepopulations.MBJ="18";codesPrepopulations["18"]="18";codesPrepopulations.FAO="19";codesPrepopulations["19"]="19";codesPrepopulations.FMY="20";codesPrepopulations["20"]="20";codesPrepopulations.RSW="20";codesPrepopulations["20"]="20";codesPrepopulations.SJO="21_64";codesPrepopulations["21"]="21_64";codesPrepopulations.SYQ="21_64";codesPrepopulations["21"]="21_64";codesPrepopulations.TMU="22";codesPrepopulations["22"]="22";codesPrepopulations.AGA="23";codesPrepopulations["23"]="23";codesPrepopulations["24"]="24";codesPrepopulations.NAS="25";codesPrepopulations["25"]="25";codesPrepopulations.PID="25";codesPrepopulations["25"]="25";codesPrepopulations.FPO="26";codesPrepopulations["26"]="26";codesPrepopulations.ANU="27";codesPrepopulations["27"]="27";codesPrepopulations.PTP="28";codesPrepopulations["28"]="28";codesPrepopulations.AUA="29";codesPrepopulations["29"]="29";codesPrepopulations.BGI="30";codesPrepopulations["30"]="30";codesPrepopulations.FLL="31_1578";codesPrepopulations["31"]="31_1578";codesPrepopulations.FXE="31_1578";codesPrepopulations["31"]="31_1578";codesPrepopulations.MCO="32";codesPrepopulations["32"]="32";codesPrepopulations.GCM="33";codesPrepopulations["33"]="33";codesPrepopulations.GND="34";codesPrepopulations["34"]="34";codesPrepopulations.SKB="35";codesPrepopulations["35"]="35";codesPrepopulations.SLU="36";codesPrepopulations["36"]="36";codesPrepopulations.UVF="36";codesPrepopulations["36"]="36";codesPrepopulations.MZO="37";codesPrepopulations["37"]="37";codesPrepopulations.FDF="38";codesPrepopulations["38"]="38";codesPrepopulations.SXM="39";codesPrepopulations["39"]="39";codesPrepopulations.EPS="40";codesPrepopulations["40"]="40";codesPrepopulations.AZS="40";codesPrepopulations["40"]="40";codesPrepopulations.PMV="41";codesPrepopulations["41"]="41";codesPrepopulations.TAB="42";codesPrepopulations["42"]="42";codesPrepopulations.PIE="43";codesPrepopulations["43"]="43";codesPrepopulations.SPG="43";codesPrepopulations["43"]="43";codesPrepopulations.HUX="44";codesPrepopulations["44"]="44";codesPrepopulations.CIA="45";codesPrepopulations["45"]="45";codesPrepopulations.FCO="45";codesPrepopulations["45"]="45";codesPrepopulations.ROM="45";codesPrepopulations["45"]="45";codesPrepopulations.SJU="46";codesPrepopulations["46"]="46";codesPrepopulations.HAV="47";codesPrepopulations["47"]="47";codesPrepopulations.UPB="47";codesPrepopulations["47"]="47";codesPrepopulations.MGA="48";codesPrepopulations["48"]="48";codesPrepopulations.PDL="49";codesPrepopulations["49"]="49";codesPrepopulations.STT="50";codesPrepopulations["50"]="50";codesPrepopulations.SPB="50";codesPrepopulations["50"]="50";codesPrepopulations.MIA="51";codesPrepopulations["51"]="51";codesPrepopulations.OPF="51";codesPrepopulations["51"]="51";codesPrepopulations.TMB="51";codesPrepopulations["51"]="51";codesPrepopulations.TNT="51";codesPrepopulations["51"]="51";codesPrepopulations.SCU="52";codesPrepopulations["52"]="52";codesPrepopulations.CMW="53";codesPrepopulations["53"]="53";codesPrepopulations.COF="54";codesPrepopulations["54"]="54";codesPrepopulations.ADZ="55";codesPrepopulations["55"]="55";codesPrepopulations["56"]="56";codesPrepopulations.BZE="57";codesPrepopulations["57"]="57";codesPrepopulations.TZA="57";codesPrepopulations["57"]="57";codesPrepopulations.MAD="58";codesPrepopulations["58"]="58";codesPrepopulations.TOJ="58";codesPrepopulations["58"]="58";codesPrepopulations.PTY="59";codesPrepopulations["59"]="59";codesPrepopulations.PAC="59";codesPrepopulations["59"]="59";codesPrepopulations.BDA="60";codesPrepopulations["60"]="60";codesPrepopulations.NWU="60";codesPrepopulations["60"]="60";codesPrepopulations.BVA="61";codesPrepopulations["61"]="61";codesPrepopulations.CDG="61";codesPrepopulations["61"]="61";codesPrepopulations.LBG="61";codesPrepopulations["61"]="61";codesPrepopulations.ORY="61";codesPrepopulations["61"]="61";codesPrepopulations.PLS="62";codesPrepopulations["62"]="62";codesPrepopulations.LCE="63";codesPrepopulations["63"]="63";codesPrepopulations.SJO="64";codesPrepopulations["64"]="64";codesPrepopulations.DAB="65";codesPrepopulations["65"]="65";codesPrepopulations.ATH="66";codesPrepopulations["66"]="66";codesPrepopulations.HEW="66";codesPrepopulations["66"]="66";codesPrepopulations.SPJ="66";codesPrepopulations["66"]="66";codesPrepopulations["67"]="67";codesPrepopulations.NCE="68";codesPrepopulations["68"]="68";codesPrepopulations.MZT="69";codesPrepopulations["69"]="69";codesPrepopulations.LIR="70_568430_568522_568546_569962_2974_64_569714";codesPrepopulations["70"]="70_568430_568522_568546_569962_2974_64_569714";codesPrepopulations.LAS="71";codesPrepopulations["71"]="71";codesPrepopulations.VGT="71";codesPrepopulations["71"]="71";codesPrepopulations.HSH="71";codesPrepopulations["71"]="71";codesPrepopulations.BIX="72";codesPrepopulations["72"]="72";codesPrepopulations.LRM="73_14";codesPrepopulations["73"]="73_14";codesPrepopulations.LCY="74";codesPrepopulations["74"]="74";codesPrepopulations.LGW="74";codesPrepopulations["74"]="74";codesPrepopulations.LHR="74";codesPrepopulations["74"]="74";codesPrepopulations.STN="74";codesPrepopulations["74"]="74";codesPrepopulations.BQH="74";codesPrepopulations["74"]="74";codesPrepopulations.ACE="75";codesPrepopulations["75"]="75";codesPrepopulations.CUR="76";codesPrepopulations["76"]="76";codesPrepopulations.SJD="77";codesPrepopulations["77"]="77";codesPrepopulations.KIN="78";codesPrepopulations["78"]="78";codesPrepopulations.KTP="78";codesPrepopulations["78"]="78";codesPrepopulations.HNL="79";codesPrepopulations["79"]="79";codesPrepopulations.KOA="80";codesPrepopulations["80"]="80";codesPrepopulations.OGG="81";codesPrepopulations["81"]="81";codesPrepopulations.LIH="82";codesPrepopulations["82"]="82";codesPrepopulations.RTB="83";codesPrepopulations["83"]="83";codesPrepopulations.LAX="84";codesPrepopulations["84"]="84";codesPrepopulations.VNY="84";codesPrepopulations["84"]="84";codesPrepopulations.WHP="84";codesPrepopulations["84"]="84";codesPrepopulations.PSP="85";codesPrepopulations["85"]="85";codesPrepopulations.MID="86";codesPrepopulations["86"]="86";codesPrepopulations.SNU="87";codesPrepopulations["87"]="87";codesPrepopulations.LTO="88";codesPrepopulations["88"]="88";codesPrepopulations.SBH="89";codesPrepopulations["89"]="89";codesPrepopulations.POS="90";codesPrepopulations["90"]="90";codesPrepopulations.RAR="91";codesPrepopulations["91"]="91";codesPrepopulations.CCC="92";codesPrepopulations["92"]="92";codesPrepopulations.LIS="93";codesPrepopulations["93"]="93";codesPrepopulations.ZYD="93";codesPrepopulations["93"]="93";codesPrepopulations.PAP="94_1035346_1041366_1042663";codesPrepopulations["94"]="94_1035346_1041366_1042663";codesPrepopulations.SAL="95";codesPrepopulations["95"]="95";codesPrepopulations.SRQ="96";codesPrepopulations["96"]="96";codesPrepopulations.LNA="97";codesPrepopulations["97"]="97";codesPrepopulations.PBI="97";codesPrepopulations["97"]="97";codesPrepopulations.TAM="98";codesPrepopulations["98"]="98";codesPrepopulations.GEO="99";codesPrepopulations["99"]="99";codesPrepopulations.AMS="100";codesPrepopulations["100"]="100";codesPrepopulations.BFS="101";codesPrepopulations["101"]="101";codesPrepopulations.BHD="101";codesPrepopulations["101"]="101";codesPrepopulations.BHX="102";codesPrepopulations["102"]="102";codesPrepopulations.BRU="103";codesPrepopulations["103"]="103";codesPrepopulations.CRL="103";codesPrepopulations["103"]="103";codesPrepopulations.ZYR="103";codesPrepopulations["103"]="103";codesPrepopulations.DUB="104";codesPrepopulations["104"]="104";codesPrepopulations.EDI="105";codesPrepopulations["105"]="105";codesPrepopulations.FRA="106";codesPrepopulations["106"]="106";codesPrepopulations.HHN="106";codesPrepopulations["106"]="106";codesPrepopulations.QGV="106";codesPrepopulations["106"]="106";codesPrepopulations.GLA="107";codesPrepopulations["107"]="107";codesPrepopulations.LYN="108";codesPrepopulations["108"]="108";codesPrepopulations.LYS="108";codesPrepopulations["108"]="108";codesPrepopulations.MAN="109";codesPrepopulations["109"]="109";codesPrepopulations.MRS="110";codesPrepopulations["110"]="110";codesPrepopulations.AGB="111";codesPrepopulations["111"]="111";codesPrepopulations.MUC="111";codesPrepopulations["111"]="111";codesPrepopulations.BSL="112";codesPrepopulations["112"]="112";codesPrepopulations.NTE="113";codesPrepopulations["113"]="113";codesPrepopulations.TLS="114";codesPrepopulations["114"]="114";codesPrepopulations.XYT="114";codesPrepopulations["114"]="114";codesPrepopulations.CXH="115";codesPrepopulations["115"]="115";codesPrepopulations.YVR="115";codesPrepopulations["115"]="115";codesPrepopulations.YYC="116";codesPrepopulations["116"]="116";codesPrepopulations.BOD="117";codesPrepopulations["117"]="117";codesPrepopulations.VCE="118";codesPrepopulations["118"]="118";codesPrepopulations.LIN="119";codesPrepopulations["119"]="119";codesPrepopulations.MXP="119";codesPrepopulations["119"]="119";codesPrepopulations.SWK="119";codesPrepopulations["119"]="119";codesPrepopulations.APF="120";codesPrepopulations["120"]="120";codesPrepopulations.CMR="121";codesPrepopulations["121"]="121";codesPrepopulations.HAM="122";codesPrepopulations["122"]="122";codesPrepopulations.KIR="123";codesPrepopulations["123"]="123";codesPrepopulations.MLH="124";codesPrepopulations["124"]="124";codesPrepopulations.PRG="125";codesPrepopulations["125"]="125";codesPrepopulations.QXB="126";codesPrepopulations["126"]="126";codesPrepopulations.CCF="127";codesPrepopulations["127"]="127";codesPrepopulations.SXB="128";codesPrepopulations["128"]="128";codesPrepopulations.AGP="129";codesPrepopulations["129"]="129";codesPrepopulations.EAS="130";codesPrepopulations["130"]="130";codesPrepopulations.BCN="131";codesPrepopulations["131"]="131";codesPrepopulations.BIO="132";codesPrepopulations["132"]="132";codesPrepopulations.GRX="133";codesPrepopulations["133"]="133";codesPrepopulations.SVQ="134";codesPrepopulations["134"]="134";codesPrepopulations.VLC="135";codesPrepopulations["135"]="135";codesPrepopulations.ODB="136";codesPrepopulations["136"]="136";codesPrepopulations.CDZ="137";codesPrepopulations["137"]="137";codesPrepopulations.SCQ="138";codesPrepopulations["138"]="138";codesPrepopulations.CEQ="139";codesPrepopulations["139"]="139";codesPrepopulations.YED="140";codesPrepopulations["140"]="140";codesPrepopulations.YEG="140";codesPrepopulations["140"]="140";codesPrepopulations.YXD="140";codesPrepopulations["140"]="140";codesPrepopulations.FLR="141";codesPrepopulations["141"]="141";codesPrepopulations.SAY="142";codesPrepopulations["142"]="142";codesPrepopulations.RRO="143";codesPrepopulations["143"]="143";codesPrepopulations.PMO="144";codesPrepopulations["144"]="144";codesPrepopulations.ISH="145";codesPrepopulations["145"]="145";codesPrepopulations.PRJ="146";codesPrepopulations["146"]="146";codesPrepopulations.CLW="147";codesPrepopulations["147"]="147";codesPrepopulations.ISM="148";codesPrepopulations["148"]="148";codesPrepopulations.JTR="149";codesPrepopulations["149"]="149";codesPrepopulations.VIE="150";codesPrepopulations["150"]="150";codesPrepopulations.VDD="150";codesPrepopulations["150"]="150";codesPrepopulations.KYL="151";codesPrepopulations["151"]="151";codesPrepopulations.UTL="152";codesPrepopulations["152"]="152";codesPrepopulations.KEF="153";codesPrepopulations["153"]="153";codesPrepopulations.RKV="153";codesPrepopulations["153"]="153";codesPrepopulations.MYF="154";codesPrepopulations["154"]="154";codesPrepopulations.SAN="154";codesPrepopulations["154"]="154";codesPrepopulations.SDM="154";codesPrepopulations["154"]="154";codesPrepopulations.NKX="154";codesPrepopulations["154"]="154";codesPrepopulations.SEE="154";codesPrepopulations["154"]="154";codesPrepopulations.SXF="155";codesPrepopulations["155"]="155";codesPrepopulations.THF="155";codesPrepopulations["155"]="155";codesPrepopulations.TXL="155";codesPrepopulations["155"]="155";codesPrepopulations.GWW="155";codesPrepopulations["155"]="155";codesPrepopulations.PVR="9_156";codesPrepopulations["156"]="156";codesPrepopulations.LUX="157";codesPrepopulations["157"]="157";codesPrepopulations.LIL="158";codesPrepopulations["158"]="158";codesPrepopulations.INN="159";codesPrepopulations["159"]="159";codesPrepopulations.SZG="160";codesPrepopulations["160"]="160";codesPrepopulations.JMK="161";codesPrepopulations["161"]="161";codesPrepopulations.YHZ="162";codesPrepopulations["162"]="162";codesPrepopulations.YAW="162";codesPrepopulations["162"]="162";codesPrepopulations.YUL="163";codesPrepopulations["163"]="163";codesPrepopulations.YKZ="164";codesPrepopulations["164"]="164";codesPrepopulations.YTZ="164";codesPrepopulations["164"]="164";codesPrepopulations.YYZ="164";codesPrepopulations["164"]="164";codesPrepopulations.YDF="165";codesPrepopulations["165"]="165";codesPrepopulations.YQX="166";codesPrepopulations["166"]="166";codesPrepopulations.YQY="167";codesPrepopulations["167"]="167";codesPrepopulations.YYG="168";codesPrepopulations["168"]="168";codesPrepopulations.YYT="169";codesPrepopulations["169"]="169";codesPrepopulations.YYJ="170";codesPrepopulations["170"]="170";codesPrepopulations.ZRH="171";codesPrepopulations["171"]="171";codesPrepopulations.GVA="172";codesPrepopulations["172"]="172";codesPrepopulations.OPO="173";codesPrepopulations["173"]="173";codesPrepopulations.AXA="174";codesPrepopulations["174"]="174";codesPrepopulations.YLW="175";codesPrepopulations["175"]="175";codesPrepopulations.YQQ="176";codesPrepopulations["176"]="176";codesPrepopulations.YWG="177";codesPrepopulations["177"]="177";codesPrepopulations.YXE="178";codesPrepopulations["178"]="178";codesPrepopulations.PHX="179";codesPrepopulations["179"]="179";codesPrepopulations.DVT="179";codesPrepopulations["179"]="179";codesPrepopulations["180"]="180";codesPrepopulations.ACY="181";codesPrepopulations["181"]="181";codesPrepopulations.AIY="181";codesPrepopulations["181"]="181";codesPrepopulations.ZSA="182";codesPrepopulations["182"]="182";codesPrepopulations.YHM="183";codesPrepopulations["183"]="183";codesPrepopulations.YKA="184";codesPrepopulations["184"]="184";codesPrepopulations.YOW="185";codesPrepopulations["185"]="185";codesPrepopulations.YQB="186";codesPrepopulations["186"]="186";codesPrepopulations.RAK="187";codesPrepopulations["187"]="187";codesPrepopulations.GGT="188";codesPrepopulations["188"]="188";codesPrepopulations.BOS="189";codesPrepopulations["189"]="189";codesPrepopulations.CGX="190";codesPrepopulations["190"]="190";codesPrepopulations.MDW="190";codesPrepopulations["190"]="190";codesPrepopulations.ORD="190";codesPrepopulations["190"]="190";codesPrepopulations.PWK="190";codesPrepopulations["190"]="190";codesPrepopulations.DPA="190";codesPrepopulations["190"]="190";codesPrepopulations.SFO="191";codesPrepopulations["191"]="191";codesPrepopulations.EMB="191";codesPrepopulations["191"]="191";codesPrepopulations.EWR="192";codesPrepopulations["192"]="192";codesPrepopulations.JFK="192";codesPrepopulations["192"]="192";codesPrepopulations.LGA="192";codesPrepopulations["192"]="192";codesPrepopulations.WTC="192";codesPrepopulations["192"]="192";codesPrepopulations.TUN="193";codesPrepopulations["193"]="193";codesPrepopulations.BFI="194";codesPrepopulations["194"]="194";codesPrepopulations.KEH="194";codesPrepopulations["194"]="194";codesPrepopulations.SEA="194";codesPrepopulations["194"]="194";codesPrepopulations.DAL="195";codesPrepopulations["195"]="195";codesPrepopulations.DFW="195";codesPrepopulations["195"]="195";codesPrepopulations.ADS="195";codesPrepopulations["195"]="195";codesPrepopulations.RBD="195";codesPrepopulations["195"]="195";codesPrepopulations.APA="196";codesPrepopulations["196"]="196";codesPrepopulations.DEN="196";codesPrepopulations["196"]="196";codesPrepopulations.BNA="197";codesPrepopulations["197"]="197";codesPrepopulations.CAI="198";codesPrepopulations["198"]="198";codesPrepopulations.MSY="199";codesPrepopulations["199"]="199";codesPrepopulations.NEW="199";codesPrepopulations["199"]="199";codesPrepopulations.NBG="199";codesPrepopulations["199"]="199";codesPrepopulations.IST="200";codesPrepopulations["200"]="200";codesPrepopulations.SAW="200";codesPrepopulations["200"]="200";codesPrepopulations.MLM="201";codesPrepopulations["201"]="201";codesPrepopulations.PSR="202";codesPrepopulations["202"]="202";codesPrepopulations.SUF="203";codesPrepopulations["203"]="203";codesPrepopulations.STR="204";codesPrepopulations["204"]="204";codesPrepopulations.BTV="205";codesPrepopulations["205"]="205";codesPrepopulations.BWI="206";codesPrepopulations["206"]="206";codesPrepopulations.DCA="206";codesPrepopulations["206"]="206";codesPrepopulations.IAD="206";codesPrepopulations["206"]="206";codesPrepopulations.CRE="207";codesPrepopulations["207"]="207";codesPrepopulations.GGE="207";codesPrepopulations["207"]="207";codesPrepopulations.MYR="207";codesPrepopulations["207"]="207";codesPrepopulations.SAP="208";codesPrepopulations["208"]="208";codesPrepopulations.YQG="209";codesPrepopulations["209"]="209";codesPrepopulations.YAM="210";codesPrepopulations["210"]="210";codesPrepopulations.YQM="211";codesPrepopulations["211"]="211";codesPrepopulations.YQT="212";codesPrepopulations["212"]="212";codesPrepopulations.YSB="213";codesPrepopulations["213"]="213";codesPrepopulations.YTM="214";codesPrepopulations["214"]="214";codesPrepopulations.YTS="215";codesPrepopulations["215"]="215";codesPrepopulations.LBY="216";codesPrepopulations["216"]="216";codesPrepopulations.CPH="217";codesPrepopulations["217"]="217";codesPrepopulations.DKR="218";codesPrepopulations["218"]="218";codesPrepopulations["219"]="219";codesPrepopulations["220"]="220";codesPrepopulations["221"]="221";codesPrepopulations["222"]="222";codesPrepopulations["223"]="223";codesPrepopulations["224"]="224";codesPrepopulations.SNN="225";codesPrepopulations["225"]="225";codesPrepopulations.RIH="226";codesPrepopulations["226"]="226";codesPrepopulations["227"]="227";codesPrepopulations.BUD="228";codesPrepopulations["228"]="228";codesPrepopulations.CHS="229";codesPrepopulations["229"]="229";codesPrepopulations.YJT="230";codesPrepopulations["230"]="230";codesPrepopulations.YYB="231";codesPrepopulations["231"]="231";codesPrepopulations.AGC="232";codesPrepopulations["232"]="232";codesPrepopulations.PIT="232";codesPrepopulations["232"]="232";codesPrepopulations["233"]="233";codesPrepopulations.MLB="234";codesPrepopulations["234"]="234";codesPrepopulations.ZAG="235";codesPrepopulations["235"]="235";codesPrepopulations["236"]="236";codesPrepopulations.BGI="237";codesPrepopulations["237"]="237";codesPrepopulations["3049111"]="3049111";codesPrepopulations["3049105"]="3049105";region_0="Unlinked";results=[];results[0]=new result("YOW",21,61,51,7,21,"381");results[1]=new result("YOW",21,61,51,7,43,"379");results[2]=new result("YOW",21,111,51,7,21,"381");results[3]=new result("YQB",21,61,51,7,21,"381");results[4]=new result("YQB",21,61,51,7,43,"379");results[5]=new result("YQB",21,111,51,7,21,"381");results[6]=new result("YQB",21,111,51,7,43,"225");results[7]=new result("YQT",21,56093,47,7,21,"247");results[8]=new result("YUL",0,21,47,7,21,"241");results[9]=new result("YUL",0,21,51,10,21,"213");results[10]=new result("YUL",0,21,51,11,21,"213");results[11]=new result("YUL",21,61,51,7,21,"381");results[12]=new result("YUL",21,61,51,7,43,"379");results[13]=new result("YUL",21,111,51,7,21,"381");results[14]=new result("YUL",21,111,51,7,43,"225");results[15]=new result("YUL",21,56093,47,7,21,"247");results[16]=new result("YVR",21,61,18,7,11,"385");results[17]=new result("YVR",0,1263,18,7,11,"385");results[18]=new result("YVR",21,56093,18,7,11,"385");results[19]=new result("YWG",21,56093,47,7,21,"247");results[20]=new result("YYZ",0,21,47,7,21,"241");results[21]=new result("YYZ",0,21,51,10,21,"213");results[22]=new result("YYZ",0,21,51,11,21,"213");results[23]=new result("YYZ",21,61,18,7,11,"385");results[24]=new result("YYZ",21,61,51,7,21,"381");results[25]=new result("YYZ",21,61,51,7,43,"379");results[26]=new result("YYZ",21,111,51,7,21,"381");results[27]=new result("YYZ",21,111,51,7,43,"225");results[28]=new result("YYZ",0,1263,18,7,11,"385");results[29]=new result("YYZ",21,56093,18,7,11,"385");results[30]=new result("YYZ",21,56093,47,7,21,"247");var gateway_YOW="Ottawa",gateway_YQB="Quebec City",gateway_YQT="Thunder Bay",gateway_YUL="Montreal",gateway_YVR="Vancouver",gateway_YWG="Winnipeg",gateway_YYZ="Toronto";if(Lang==="fr")var region_21="CARAIBES",region_61="CARAIBES DE L EST",region_111="CARAIBES DE L OUEST",region_1263="AMERIQUE DU SUD",region_56093="CUBA";else var region_21="CARIBBEAN",region_61="EASTERN CARIBBEAN",region_111="WESTERN CARIBBEAN",region_1263="SOUTH AMERICA",region_56093="CUBA";var port_18="Montego Bay",port_47="Havana",port_51="Miami",cruise_line_11="MARELLA CRUISES",cruise_line_21="MSC CRUISES",cruise_line_43="NORWEGIAN CRUISE LINE",ship_213="MSC DIVINA",ship_225="NORWEGIAN GETAWAY",ship_241="MSC ARMONIA",ship_247="MSC OPERA",ship_379="NORWEGIAN BLISS",ship_381="MSC SEASIDE",ship_385="MARELLA DISCOVERY 2",Gateways=Array();Durations=Object();Destinations=Array();Hotels=Array();userDate="";$(function(){$("#nb_child, #flights_nb_child").prop("selectedIndex",0);$("#nb_adult, #nb_rooms").focus(function(){$("#error-message-modulo").hide();$("#error-message-totalPax").hide();$("#content-packages .packages-adults").removeClass("error");$("#error-message-nonadults").is(":hidden")&&$("#error-message-totalPax").is(":hidden")&&$("#error-message-nonadultage").is(":hidden")&&$("#error-message-dates").is(":hidden")&&$(".error-messages.packages").removeClass("show")});$("#nb_rooms, #nb_child").focus(function(){$("#error-message-nonadults").hide();$("#error-message-totalPax").hide();$("#content-packages .packages-rooms").removeClass("error");$("#error-message-modulo").is(":hidden")&&$("#error-message-totalPax").is(":hidden")&&$("#error-message-nonadultage").is(":hidden")&&$("#error-message-dates").is(":hidden")&&$(".error-messages.packages").removeClass("show")});$(".c_age, #nb_child").focus(function(){$("#error-message-nonadultage").hide();$("#error-message-totalPax").hide();$("#content-packages .packages-children").removeClass("error");$("#content-packages .form-group.col-xs-3").removeClass("error");$("#content-packages .form-group.childage-wrapper").removeClass("error");$("#error-message-nonadults").is(":hidden")&&$("#error-message-totalPax").is(":hidden")&&$("#error-message-modulo").is(":hidden")&&$("#error-message-dates").is(":hidden")&&$(".error-messages.packages").removeClass("show")});$("#package_date_dep").focus(function(){$("#error-message-dates").hide();$("#content-packages .departure-date").removeClass("error");$("#error-message-nonadults").is(":hidden")&&$("#error-message-totalPax").is(":hidden")&&$("#error-message-modulo").is(":hidden")&&$("#error-message-nonadultage").is(":hidden")&&$(".error-messages.packages").removeClass("show")});$("#tab-packages").click(function(){$("#content-packages .packages-adults").hasClass("error")||$("#content-packages .packages-rooms").hasClass("error")||$("#content-packages .packages-children").hasClass("error")||$("#content-packages .departure-date").hasClass("error")?($(".error-messages.packages").addClass("show"),$(".error-messages.flights").removeClass("show"),$(".error-messages.cars").removeClass("show")):($(".error-messages.packages").removeClass("show"),$(".error-messages.flights").removeClass("show"),$(".error-messages.cars").removeClass("show"))});$("#tab-hotels").click(function(){$("#content-hotels .hotel-destination").hasClass("error")?($(".error-messages.packages").addClass("show"),$(".error-messages.cars").removeClass("show"),$(".error-messages.flights").removeClass("show")):($(".error-messages.packages").removeClass("show"),$(".error-messages.flights").removeClass("show"),$(".error-messages.cars").removeClass("show"),$(".error-messages.hotels").removeClass("show"))});$("#tab-cruises").click(function(){$(".error-messages.packages").removeClass("show");$(".error-messages.flights").removeClass("show");$(".error-messages.cars").removeClass("show");$(".error-messages.hotels").removeClass("show")});$("#tab-cars").click(function(){$("#content-cars .car-dropoff-gateway").hasClass("error")||$("#content-cars .car-pickup-gateway").hasClass("error")?($(".error-messages.cars").addClass("show"),$(".error-messages.packages").removeClass("show"),$(".error-messages.flights").removeClass("show")):($(".error-messages.packages").removeClass("show"),$(".error-messages.flights").removeClass("show"),$(".error-messages.cars").removeClass("show"))});$("#flights_date_dep").focus(function(){$("#flights_error-message-dates_dep").hide();$("#content-flights .departure-date").removeClass("error");$("#flights_error-message-dates_ret").is(":hidden")&&$("#flights_error-message-nonadultage").is(":hidden")&&$("#flights_error-message-gateway").is(":hidden")&&$("#flights_error-message-destination").is(":hidden")&&$("#flights_error-message-searchType").is(":hidden")&&$(".error-messages.flights").removeClass("show")});$("#flights_date_ret").focus(function(){$("#flights_error-message-dates_ret").hide();$("#content-flights .return-date").removeClass("error");$("#flights_error-message-dates_dep").is(":hidden")&&$("#flights_error-message-nonadultage").is(":hidden")&&$("#flights_error-message-gateway").is(":hidden")&&$("#flights_error-message-destination").is(":hidden")&&$("#flights_error-message-searchType").is(":hidden")&&$(".error-messages.flights").removeClass("show")});$(".flights_age, #flights_nb_child").focus(function(){$("#flights_error-message-nonadultage").hide();$("#content-flights .flights-children").removeClass("error");$("#content-flights .form-group.childage-wrapper").removeClass("error");$("#content-flights .form-group.col-xs-3").removeClass("error");$("#flights_error-message-dates_dep").is(":hidden")&&$("#flights_error-message-dates_ret").is(":hidden")&&$("#flights_error-message-gateway").is(":hidden")&&$("#flights_error-message-destination").is(":hidden")&&$("#flights_error-message-searchType").is(":hidden")&&$(".error-messages.flights").removeClass("show")});$("#flights_Select1").click(function(){$("#flights_error-message-gateway").hide();$("#content-flights .departure-gateway").removeClass("error");$("#flights_error-message-dates_dep").is(":hidden")&&$("#flights_error-message-dates_ret").is(":hidden")&&$("#flights_error-message-nonadultage").is(":hidden")&&$("#flights_error-message-destination").is(":hidden")&&$("#flights_error-message-searchType").is(":hidden")&&$(".error-messages.flights").removeClass("show")});$("#flights_Select2").click(function(){$("#flights_error-message-destination").hide();$("#content-flights .arrival-gateway").removeClass("error");$("#flights_error-message-dates_dep").is(":hidden")&&$("#flights_error-message-dates_ret").is(":hidden")&&$("#flights_error-message-gateway").is(":hidden")&&$("#flights_error-message-nonadultage").is(":hidden")&&$("#flights_error-message-searchType").is(":hidden")&&$(".error-messages.flights").removeClass("show")});$(".form-group.dtc.radio-group-wrapper, #flights_Select1").click(function(){$("#flights_error-message-searchType").hide();$("#content-flights .radio-group").removeClass("error");$("#flights_error-message-dates_dep").is(":hidden")&&$("#flights_error-message-dates_ret").is(":hidden")&&$("#flights_error-message-gateway").is(":hidden")&&$("#flights_error-message-destination").is(":hidden")&&$("#flights_error-message-nonadultage").is(":hidden")&&$(".error-messages.flights").removeClass("show")});$("#tab-flights").click(function(){$("#content-flights .return-date").hasClass("error")||$("#content-flights .flights-children").hasClass("error")||$("#content-flights .departure-date").hasClass("error")||$("#content-flights .arrival-gateway").hasClass("error")||$("#content-flights .departure-gateway").hasClass("error")||$("#content-flights .radio-group").hasClass("error")?($(".error-messages.flights").addClass("show"),$(".error-messages.packages").removeClass("show"),$(".error-messages.cars").removeClass("show")):($(".error-messages.flights").removeClass("show"),$(".error-messages.packages").removeClass("show"),$(".error-messages.cars").removeClass("show"))});SearchBoxObjExists&&($.cookie("SunwingGateway","",{expires:-1,path:"/"}),$.cookie("SunwingLanguage","",{expires:-1,path:"/"}),$.cookie("SunwingGateway")===null||$.cookie("SunwingGateway")===undefined||queryParamExists("gatewaycode")?(InitDrops(document.frm,displayGateway,"","",""),RefreshCruiseSuite(document.cruise_frm,displayGateway,"","","","",""),flightExists&&InitFlightsDrops(displayGateway)):(InitDrops(document.frm,$.cookie("SunwingGateway"),"","",""),RefreshCruiseSuite(document.cruise_frm,$.cookie("SunwingGateway"),"","","","",""),flightExists&&InitFlightsDrops($.cookie("SunwingGateway"))),RefreshCarsSuite())});getCarsData=function(n,t,i){var r=[],u;return t==null&&(u=!0),$.each(n,function(n,f){if(t!=null&&f.regionCode===t.item.regionCode||u){var e=$.map(f.destinationName,function(n,t){return $(".error-messages.cars").hasClass("show")&&(i.term=""),n.substring(0,i.term.length).toLowerCase()===i.term.toLowerCase()?(n=n+" ("+f.destinationCode[t]+")",{label:n,value:n,regionCode:f.regionCode}):void 0});r=r.concat(e)}}),r};var searchType,gateway,items=[],itemcodes=[],itemsDest=[];getGatewaySource=function(){searchType=$("input[name='searchtype']:checked").val();searchType==="OW"?($(".form-group.dtc.return-date").addClass("disabled-form-input"),$("#flights_date_ret").attr("disabled",!0),$(".form-group.dtc.flights-days").addClass("disabled-form-input"),$("#flights_duration").attr("disabled",!0)):($(".form-group.dtc.return-date").removeClass("disabled-form-input"),$("#flights_date_ret").attr("disabled",!1),$(".form-group.dtc.flights-days").removeClass("disabled-form-input"),$("#flights_duration").attr("disabled",!1));$.getJSON(gatewayDestinationURL+"api/search/getGatewayforBrand/"+Lang+"/SWG/"+searchType,function(n){items=[];itemcodes=[];$.each(n,function(n,t){items.push(t.name+" ("+t.code+")");itemcodes.push(t.code)})}).always(function(){$.inArray(gateway,itemcodes)!==-1?$("#flights_Select1").val(items[$.inArray(gateway,itemcodes)]):$("#flights_Select1").val("");getDestinationSource(gateway);$("#flights_Select1").autocomplete({source:items,autoFocus:!0,minLength:0,select:function(){setTimeout(function(){var n=$("#flights_Select1").val();gateway=n.substring(n.indexOf("(")+1,n.indexOf(")"));getDestinationSource(gateway)},100)}}).focus(function(){$(this).autocomplete("search","")})})};getDestinationSource=function(n){$.getJSON(gatewayDestinationURL+"api/search/getDestCode/"+Lang+"/SWG/"+n+"/"+searchType,function(n){itemsDest=[];var t;$.each(n,function(n,i){t!==i.countryName?(itemsDest.push(i.countryName),itemsDest.push("- "+i.destinationName)):itemsDest.push("- "+i.destinationName);t=i.countryName})}).always(function(){$.inArray($("#flights_Select2").val(),itemsDest)===-1&&$("#flights_Select2").val("");itemsDest.length===0&&($(".error-messages.flights").hasClass("show")||$(".error-messages.flights").addClass("show"),$("#flights_error-message-searchType").show(),$("#content-flights .radio-group").addClass("error"));$("#flights_Select2").autocomplete({source:itemsDest,minLength:0,autoFocus:!0,focus:function(n,t){t.item.value.indexOf("-")===-1&&$(".ui-menu-item").removeClass("ui-state-focus")},select:function(n,t){return t.item.value.indexOf("USA")!==-1?($(".form-group.dtc.flights-days").addClass("hide"),$(".form-group.dtc.return-date").removeClass("hide")):t.item.value.indexOf("Canada")!==-1?($(".form-group.dtc.flights-days").addClass("hide"),$(".form-group.dtc.return-date").removeClass("hide")):($(".form-group.dtc.return-date").addClass("hide"),$(".form-group.dtc.flights-days").removeClass("hide")),t.item.value.indexOf("-")===-1?!1:!0}}).data("ui-autocomplete")._renderItem=function(n,t){return $("<li>").append(val=t.value.indexOf("-")===-1?"<span class='bold'>"+t.value+"<\/span>":"<span class='fa-destinations'>"+t.value+"<\/span>").appendTo(n)}})};$("#dest_dep_text").autocomplete({source:function(n,t){var i=new RegExp($.ui.autocomplete.escapeRegex(n.term),"i");$.ajax({type:"POST",url:window.location.protocol+"//"+window.location.host+"/Home/GetSearchHotelTabData",dataType:"json",data:{language:$("#language").val().trim(),city:n.term},autoFocus:!0,success:function(r){var f=$.map(r.items,function(t){var u=unescape(t.name),r;if(u&&(!n.term||i.test(u)||i.test(t.acode)||i.test(t.code)))return r=t.aname?" ("+unescape(t.aname)+")":"",{label:unescape(t.name)+r+", "+unescape(t.pname)+", "+unescape(t.cname),value:unescape(t.name)+r+", "+unescape(t.pname)+", "+unescape(t.cname),code:t.vvp}}),u=Object.create(null),e=f.filter(function(n){return u[n.value]?!1:u[n.value]=!0});t(e)}})},minLength:3,select:function(n,t){return $(".dest_dep_hotel#"+$("#dest_dep_text").attr("canyouseeme")).val(t.item.code),!0}});var parseDate=function(n){var t=n.split("-");return new Date(t[0],t[1],t[2])},getDaysDifference=function(n,t){return(parseDate(t)-parseDate(n))/864e5},addDays=function(n,t){var i=new Date(n),r,u;return i.setDate(i.getDate()+parseInt(t)),r=i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1,u=i.getDate()<10?"0"+i.getDate():i.getDate(),i.getFullYear()+""+r+""+u};LPCObjExists&&($.cookie("SunwingGateway","",{expires:-1,path:"/"}),$.cookie("SunwingLanguage","",{expires:-1,path:"/"}),$.cookie("SunwingGateway")!==null&&$.cookie("SunwingGateway")!==undefined?InitDrops(document.frm,$.cookie("SunwingGateway"),"","",""):InitDrops(document.frm,"YYZ","","",""),$("#lightbox-lpc").click(function(){openLPCLink()}))